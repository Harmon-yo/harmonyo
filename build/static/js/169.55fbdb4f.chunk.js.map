{"version":3,"file":"static/js/169.55fbdb4f.chunk.js","mappings":"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","sources":["components/Global/AvatarComFoto/index.jsx","utils/utils.js","components/Chat/ChatHeader/index.jsx","components/Chat/ChatInput/index.jsx","components/Chat/CaixaMensagem/index.jsx","components/Chat/DivisorDate/index.jsx","components/Chat/MessagesContainer/index.jsx","components/Chat/ChatInputBloqueado/index.jsx","components/Chat/ChatContainer/index.jsx","components/Chat/ProfileChat/index.jsx","components/Chat/ChatItem/index.jsx","components/Chat/ChatList/index.jsx","pages/Global/Chat/Chat.jsx","utils/firebase.js"],"sourcesContent":["import { Avatar } from \"@mui/material\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { storage } from \"../../../utils/firebase\";\r\nimport { useImperativeHandle, forwardRef } from \"react\";\r\n\r\nfunction AvatarComFoto(props, ref) {\r\n    \r\n    const idUsuario = props.id;\r\n    const nomeUsuario = props.nome;\r\n\r\n    const [imgPerfilURL, setImgPerfilURL] = useState(\"\");\r\n    const [erroAoCarregar, setErroAoCarregar] = useState(false);\r\n\r\n    useImperativeHandle(ref, () =>  { return {\r\n        getImgPerfilURL: () => {return imgPerfilURL}\r\n    }}, [imgPerfilURL]);\r\n\r\n    const obterImgPerfil = (id) => {\r\n        let urlImg = `/imgs-perfil-usuario/${id}_ft_perfil`;\r\n\r\n        storage.ref(urlImg).getDownloadURL()\r\n            .then(url => {\r\n                setImgPerfilURL(url)\r\n            }).catch(() => {\r\n                setErroAoCarregar(true);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (props.naoCarregar) {\r\n            if (!props.imgUrl) {\r\n                obterImgPerfil(idUsuario);\r\n            } else {\r\n                setImgPerfilURL(props.imgUrl);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.imgUrl) {\r\n            setImgPerfilURL(props.imgUrl);\r\n            setErroAoCarregar(false);\r\n        } else {\r\n            obterImgPerfil(idUsuario);\r\n        }\r\n    }, [props.recarregarImg]);\r\n    \r\n    const corDeFundoPerfil = erroAoCarregar ? \"#099250\" : \"#eeeeee\";\r\n\r\n    const sxAdicional = props.sx ? props.sx : {};\r\n    sxAdicional[\"bgcolor\"] = corDeFundoPerfil;\r\n\r\n    return !erroAoCarregar ?\r\n        (<Avatar src={erroAoCarregar ? null : imgPerfilURL}\r\n            className={props.className}\r\n            onClick={props.onClick}\r\n            aria-controls={props.ariaControls}\r\n            aria-haspopup={props.ariaHaspopup}\r\n            aria-expanded={props.ariaExpanded}\r\n            sx={sxAdicional}>\r\n            {erroAoCarregar ? nomeUsuario.charAt(0) : \"\"}\r\n        </Avatar>) : (<Avatar\r\n            className={props.className}\r\n            onClick={props.onClick}\r\n            aria-controls={props.ariaControls}\r\n            aria-haspopup={props.ariaHaspopup}\r\n            aria-expanded={props.ariaExpanded}\r\n            sx={sxAdicional}>\r\n            {erroAoCarregar ? nomeUsuario.charAt(0) : \"\"}\r\n        </Avatar>);\r\n\r\n}\r\n\r\nexport default forwardRef(AvatarComFoto);","import { Timestamp, serverTimestamp } from \"firebase/firestore\";\r\nimport { db } from \"./firebase\";\r\n\r\nexport function fromTimestampToFormatDate(timestamp) {\r\n  if (timestamp == null) {\r\n    return \"00/00/0000\";\r\n  }\r\n  var dataMensagem = new Timestamp(\r\n    timestamp.seconds,\r\n    timestamp.nanoseconds\r\n  ).toDate();\r\n\r\n  const dia =\r\n    dataMensagem.getDate() < 10\r\n      ? \"0\" + dataMensagem.getDate()\r\n      : dataMensagem.getDate();\r\n  const mes =\r\n    dataMensagem.getMonth() < 10\r\n      ? \"0\" + dataMensagem.getMonth()\r\n      : dataMensagem.getMonth();\r\n\r\n  var dataMensagemFormatada =\r\n    dia + \"/\" + mes + \"/\" + dataMensagem.getFullYear();\r\n\r\n  return dataMensagemFormatada;\r\n}\r\nexport function fromDateToFormatDate(dataPassada) {\r\n  var data = new Date(dataPassada);\r\n  const dia = data.getDate() < 10 ? \"0\" + data.getDate() : data.getDate();\r\n  const mes = data.getMonth() < 10 ? \"0\" + data.getMonth() : data.getMonth();\r\n  var dataFormatada = dia + \"/\" + mes + \"/\" + data.getFullYear();\r\n\r\n  return dataFormatada;\r\n}\r\nexport function fromTimestampToFormatHour(timestamp) {\r\n  if (timestamp == null) {\r\n    return \"00/00/0000\";\r\n  }\r\n  var data = new Timestamp(timestamp.seconds, timestamp.nanoseconds).toDate();\r\n  const hora = data.getHours() < 10 ? \"0\" + data.getHours() : data.getHours();\r\n  const minuto =\r\n    data.getMinutes() < 10 ? \"0\" + data.getMinutes() : data.getMinutes();\r\n  var horaFormatada = hora + \":\" + minuto;\r\n\r\n  return horaFormatada;\r\n}\r\nexport function enviarMensagem(mensagem, id) {\r\n  const idEnviou = Number(sessionStorage.getItem(\"ID\"));\r\n  const texto = mensagem;\r\n  const timestamp = serverTimestamp();\r\n  const msgAdd = {\r\n    idEnviou: idEnviou,\r\n    timestamp: timestamp,\r\n    texto: mensagem,\r\n    lida: false,\r\n  };\r\n  db.doc(`chats/${id}`)\r\n    .collection(\"mensagens\")\r\n    .add(msgAdd)\r\n    .then(() => {\r\n      var objDiv = document.getElementById(\"scroll\");\r\n      objDiv.scrollTop = objDiv.scrollHeight;\r\n    });\r\n  db.collection(\"chats\").doc(id).update({\r\n    ultimaMensagem: texto,\r\n    timestamp: timestamp,\r\n  });\r\n}\r\nexport function marcarMensagemComoLida(id) {\r\n  db.doc(`chats/${id}`)\r\n    .collection(\"mensagens\")\r\n    .where(\"idEnviou\", \"!=\", Number(sessionStorage.getItem(\"ID\")))\r\n    .where(\"lida\", \"==\", false)\r\n    .get()\r\n    .then((snapshot) => {\r\n      snapshot.forEach((doc) => {\r\n        doc.ref.update({\r\n          lida: true,\r\n        });\r\n      });\r\n    });\r\n}\r\nexport function denunciarUsuario(objetoDenuncia) {\r\n  var idConversa = objetoDenuncia.idConversa;\r\n  delete objetoDenuncia.idConversa;\r\n  const timestamp = serverTimestamp();\r\n  objetoDenuncia.timestamp = timestamp;\r\n\r\n  db.doc(`chats/${idConversa}`)\r\n    .collection(\"denuncia\")\r\n    .add(objetoDenuncia)\r\n    .then(() => {\r\n      db.doc(`chats/${idConversa}`)\r\n        .update({\r\n          bloqueado: true,\r\n          timestamp: timestamp,\r\n          ultimaMensagem: \"Chat bloqueado!\",\r\n        })\r\n        .then(() => {\r\n          alert(\"Denuncia salva!\");\r\n          window.location.reload();\r\n        });\r\n    })\r\n    .catch((e) => {\r\n      console.log(e);\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  TextField,\r\n  Avatar,\r\n  List,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport SmsFailedIcon from \"@mui/icons-material/SmsFailed\";\r\nimport \"./style.css\";\r\nimport { denunciarUsuario } from \"../../../utils/utils\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n} from \"@mui/material\";\r\nimport AvatarComFoto from \"../../Global/AvatarComFoto\";\r\n\r\nexport default function ChatHeader(props) {\r\n  const [open, setOpen] = React.useState(props.abreModal);\r\n  const [denuncia, setDenuncia] = React.useState(\"\");\r\n  const [outro, setOutro] = React.useState(\"\");\r\n  const [ehOutro, setEhOutro] = React.useState(false);\r\n  const [erro, setErro] = React.useState(false);\r\n  const handleChange = (event) => {\r\n    if (event.target.value === 3) {\r\n      setEhOutro(true);\r\n    }\r\n    if (event.target.value !== null) {\r\n      setErro(false);\r\n    }\r\n    setDenuncia(event.target.value);\r\n  };\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setDenuncia(\"\");\r\n    setOutro(\"\");\r\n    setEhOutro(false);\r\n  };\r\n\r\n  const denunciar = () => {\r\n\r\n   \r\n    if (ehOutro) {\r\n     \r\n      if (outro === \"\") {\r\n        setErro(true);\r\n        return;\r\n      }\r\n      setErro(false);\r\n    } else if (denuncia === \"\") {\r\n      setErro(true);\r\n      return;\r\n    }\r\n    var objetoDenuncia = {\r\n      motivo: outro? outro: denuncia,\r\n      idDenunciante: Number(sessionStorage.ID),\r\n      idDenunciado: props.idUsuarioConversa,\r\n      idConversa: props.idConversa\r\n    }\r\n    denunciarUsuario(objetoDenuncia)\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          Gostaria de denunciar {props.nome}?\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Qual o motivo da denúncia?\r\n          </DialogContentText>\r\n          <FormControl fullWidth>\r\n            <InputLabel id=\"demo-simple-select-label\">\r\n              Motivo da denúncia\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-label\"\r\n              id=\"demo-simple-select\"\r\n              value={denuncia}\r\n              label=\"Motivo da denúncia\"\r\n              onChange={handleChange}\r\n              error={erro}\r\n            >\r\n              <MenuItem value={\"Bullying e assédio\"}>Bullying e assédio</MenuItem>\r\n              <MenuItem value={\"Palavras ofensivas\"}>Palavras ofensivas</MenuItem>\r\n              <MenuItem value={\"Informações incorretas prejudiciais\"}>Informações incorretas prejudiciais</MenuItem>\r\n              <MenuItem value={3}>Outro</MenuItem>\r\n            </Select>\r\n            {ehOutro ? (\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Outro motivo\"\r\n                variant=\"outlined\"\r\n                value={outro}\r\n                error={erro}\r\n                helperText={erro ? \"Digite o motivo da denúncia\" : \"\"}\r\n                onChange={(e) => setOutro(e.target.value)}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </FormControl>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Não</Button>\r\n          <Button onClick={denunciar} autoFocus>\r\n            Sim, denunciar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Grid item xs={3} style={{ borderRight: \"500\" }}>\r\n        <List className=\"chat_header\">\r\n          <ListItem key={props.nome}>\r\n            <ListItemIcon>\r\n            <AvatarComFoto\r\n            id={props.idUsuarioConversa}\r\n            nome={props.nome}\r\n            className=\"avatar\"\r\n          />\r\n            </ListItemIcon>\r\n            <ListItemText primary={props.nome}></ListItemText>\r\n          </ListItem>\r\n          <ListItem\r\n            key={0}\r\n            style={{ width: \"min-content\", marginRight: \"10px\" }}\r\n            button\r\n            onClick={handleOpen}\r\n          >\r\n            <SmsFailedIcon style={{fontSize: \"40px\"}}/>\r\n          </ListItem>\r\n        </List>\r\n        <Divider />\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Fab,\r\n  Grid,\r\n  InputBase,\r\n} from \"@mui/material\";\r\nimport Send from \"@mui/icons-material/Send\";\r\n\r\nexport default function ChatInput(props) {\r\n\r\n\r\n\r\n  return (\r\n    <Grid container style={{ padding: \"20px\" }}>\r\n      <Grid item xs={11}>\r\n        <InputBase\r\n          sx={{ ml: 1, flex: 1 }}\r\n          placeholder=\"Insira aqui a sua mensagem\"\r\n          fullWidth\r\n          autoFocus={true}\r\n          multiline\r\n          rows={2}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") {\r\n              e.preventDefault()\r\n              props.onClick()\r\n            }\r\n          }}\r\n          onChangeCapture={(e) => props.onChange(e.target.value)}\r\n          value={props.value}\r\n          style={{ border: \"1px solid #ccc\", borderRadius: \"5px\", padding: \"10px\" }}\r\n        />\r\n      </Grid>\r\n      <Grid xs={1} align=\"right\" onClick={() => props.onClick()} >\r\n        <Fab color=\"rgba(29, 185, 84, 0.25)\" aria-label=\"add\">\r\n          <Send />\r\n        </Fab>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Grid, ListItem, ListItemText } from \"@mui/material\";\r\nimport { Timestamp } from \"firebase/firestore\";\r\nimport \"./style.css\";\r\n\r\nexport default function CaixaMensagem(props) {\r\n  var posicao = \"left\";\r\n\r\n  if (props.idEnviou === Number(sessionStorage.getItem(\"ID\"))) {\r\n    posicao = \"right\";\r\n  }\r\n  var data;\r\n  if (props.timestamp !== null) {\r\n    data = new Timestamp(\r\n      props.timestamp.seconds,\r\n      props.timestamp.nanoseconds\r\n    ).toDate();\r\n  }else{\r\n    console.log(props)\r\n    data = new Date();\r\n  }\r\n\r\n  const hora = data.getHours() < 10 ? \"0\" + data.getHours() : data.getHours();\r\n  const minuto =\r\n    data.getMinutes() < 10 ? \"0\" + data.getMinutes() : data.getMinutes();\r\n  const horario = hora + \":\" + minuto;\r\n\r\n  if (posicao === \"left\") {\r\n    return (\r\n      <ListItem key={props.key} style={{ maxWidth: \"50%\" }}>\r\n        <Grid container>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{maxWidth: \"fit-content\"}}\r\n            className=\"esquerda_mensagem\"\r\n          >\r\n            <ListItemText\r\n              align=\"left\"\r\n              primary={props.texto}\r\n              style={{\r\n                wordWrap: \"break-word\",\r\n                width: \"fit-content\",\r\n              }}\r\n            ></ListItemText>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <ListItemText align=\"left\" secondary={horario}></ListItemText>\r\n          </Grid>\r\n        </Grid>\r\n      </ListItem>\r\n    );\r\n  } else {\r\n    return (\r\n      <ListItem\r\n        key={props.key}\r\n        style={{ maxWidth: \"50%\", alignSelf: \"flex-end\" }}\r\n      >\r\n        <Grid\r\n          container\r\n          style={{\r\n            justifyContent: \"flex-end\",\r\n          }}\r\n        >\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{maxWidth: \"fit-content\"}}\r\n            className=\"direita_mensagem\"\r\n          >\r\n            <ListItemText\r\n              align=\"left\"\r\n              primary={props.texto}\r\n              style={{\r\n                wordWrap: \"break-word\",\r\n                width: \"fit-content\",\r\n              }}\r\n            ></ListItemText>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <ListItemText align=\"right\" secondary={horario}></ListItemText>\r\n          </Grid>\r\n        </Grid>\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n","import { ListItemText, Box } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport default function DivisorDate(props) {\r\n  \r\n  if(props.data === \"00/00/0000\"){\r\n    return(\r\n      <></>\r\n    )\r\n  }\r\n  return (\r\n    <Box className=\"divisor\">\r\n        <Box className=\"data_centralizada\">\r\n            <Box className=\"linha\"></Box>\r\n            <Box className=\"data\">\r\n                <ListItemText primary={props.data}/>\r\n                </Box>\r\n            <Box className=\"linha\"></Box>\r\n        </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport CaixaMensagem from \"../CaixaMensagem/index.jsx\"\r\nimport DivisorDate from \"../DivisorDate/index.jsx\";\r\nimport {db} from \"../../../utils/firebase.js\";\r\nimport \"./style.css\";\r\nimport { Box } from \"@mui/material\";\r\nimport {\r\n  fromDateToFormatDate,\r\n  fromTimestampToFormatDate,\r\n} from \"../../../utils/utils.js\";\r\nimport { CircularProgress } from \"@mui/material\";\r\n\r\nexport default function MessagesContainer(props) {\r\n  const [mensagens, setMensagens] = React.useState([]);\r\n  const [carregouMensagens, setCarregouMensagens] = React.useState(false);\r\n  var contador = 0;\r\n  var ultimaData = \"\";\r\n  const refDiv = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setCarregouMensagens(false);\r\n    const unsubscribe = db\r\n      .doc(`chats/${props.id}`)\r\n      .collection(\"mensagens\")\r\n      .orderBy(\"timestamp\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        setMensagens([]);\r\n        snapshot.docs.map((doc) => {\r\n          setMensagens((mensagens) => [\r\n            ...mensagens,\r\n            {\r\n              id: doc.id,\r\n              idEnviou: doc.data().idEnviou,\r\n              texto: doc.data().texto,\r\n              timestamp: doc.data().timestamp,\r\n              lida: doc.data().lida,\r\n            },\r\n          ]);\r\n        });\r\n        setCarregouMensagens(true);\r\n      });\r\n\r\n    return () => unsubscribe();\r\n  }, [props.id]);\r\n\r\n  useEffect(() => {\r\n    if (refDiv.current) {\r\n      refDiv.current.scrollTop = refDiv.current.scrollHeight;\r\n    }\r\n  }, [mensagens]);\r\n\r\n  if (carregouMensagens) {\r\n    return (\r\n      <Box ref={refDiv} className=\"messageBoxContainer\">\r\n        {mensagens.map((mensagem) => {\r\n          if (!mensagem.lida) {\r\n            db.doc(`chats/${props.id}`)\r\n              .collection(\"mensagens\")\r\n              .doc(mensagem.id)\r\n              .update({\r\n                lida: true,\r\n              });\r\n          }\r\n\r\n          contador++;\r\n\r\n          if (\r\n            contador === 1 ||\r\n            ultimaData !== fromTimestampToFormatDate(mensagem.timestamp)\r\n          ) {\r\n            ultimaData = fromTimestampToFormatDate(mensagem.timestamp);\r\n            var dataExibir = \"\";\r\n            if (\r\n              fromTimestampToFormatDate(mensagem.timestamp) ===\r\n              fromDateToFormatDate(new Date())\r\n            ) {\r\n              dataExibir = \"Hoje\";\r\n            } else if (\r\n              fromTimestampToFormatDate(mensagem.timestamp) ===\r\n              fromDateToFormatDate(\r\n                new Date(new Date().setDate(new Date().getDate() - 1))\r\n              )\r\n            ) {\r\n              dataExibir = \"Ontem\";\r\n            } else {\r\n              dataExibir = fromTimestampToFormatDate(mensagem.timestamp);\r\n            }\r\n\r\n            return (\r\n              <>\r\n                <DivisorDate data={dataExibir} />\r\n                <CaixaMensagem\r\n                  key={mensagem.id}\r\n                  id={mensagem.id}\r\n                  idEnviou={mensagem.idEnviou}\r\n                  texto={mensagem.texto}\r\n                  timestamp={mensagem.timestamp}\r\n                />\r\n              </>\r\n            );\r\n          }\r\n\r\n          return (\r\n            <CaixaMensagem\r\n              key={mensagem.id}\r\n              id={mensagem.id}\r\n              idEnviou={mensagem.idEnviou}\r\n              texto={mensagem.texto}\r\n              timestamp={mensagem.timestamp}\r\n              onLoad={() => console.log(\"aaa\")}\r\n            />\r\n          );\r\n        })}\r\n      </Box>\r\n    );\r\n  } else {\r\n    return (\r\n      <Box style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <CircularProgress style={{ color: \"#6DDB94\" }} />\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport \"./style.css\"\r\nimport { Box } from \"@mui/material\";\r\n\r\nfunction ChatInputBloqueado(props) {\r\n  return (\r\n    <Box className=\"background-bloqueado\">\r\n      <Box className=\"texto-bloqueado\">Sua conversa com {props.nome} está bloqueada por motivo de denúncia. Por favor, caso você entenda que algo está errado, entre em contato com o nosso suporte.</Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default ChatInputBloqueado\r\n","import ChatHeader from \"../ChatHeader\";\r\nimport ChatInput from \"../ChatInput\";\r\nimport { enviarMensagem } from \"../../../utils/utils\";\r\nimport MessagesContainer from \"../MessagesContainer\";\r\nimport ChatInputBloqueado from \"../ChatInputBloqueado\";\r\n\r\n\r\nexport default function ChatContainer(props) {\r\n\r\n\r\n  return (\r\n    <>\r\n      <ChatHeader idUsuarioConversa={props.idUsuarioConversa} nome={props.nome} idConversa={props.id} />\r\n      <MessagesContainer id={props.id} />\r\n      {props.isBloqueado ? <ChatInputBloqueado nome={props.nome}/> :\r\n        <ChatInput\r\n          value={props.valueInput}\r\n          onChange={props.onChange}\r\n          onClick={() => {\r\n\r\n            props.onClick();\r\n            if (props.valueInput !== \"\") {\r\n\r\n              enviarMensagem(props.valueInput, props.id)\r\n            }\r\n          }}\r\n        />\r\n      }\r\n    </>\r\n  );\r\n\r\n}\r\n","import React from \"react\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport { ListItem, Avatar, Typography, ListItemIcon } from \"@mui/material\";\r\nimport \"./style.css\";\r\nimport { storage } from \"../../../utils/firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport AvatarComFoto from \"../../Global/AvatarComFoto\";\r\nexport default function ProfileChat() {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <>\r\n      <ListItem className=\"chat_profile\">\r\n        <ListItem\r\n          button\r\n          className=\"voltar\"\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"left\",\r\n            width: \"fit-content\",\r\n            height: \"fit-content\",\r\n          }}\r\n          onClick={() => navigate(-1)}\r\n        >\r\n          <ArrowBackIcon\r\n            style={{\r\n              width: \"35px\",\r\n              height: \"35px\",\r\n              padding: \"5px\",\r\n              borderRadius: \"100%\",\r\n              background: \"#363636\",\r\n            }}\r\n          />\r\n        </ListItem>\r\n        <ListItemIcon>\r\n          <AvatarComFoto\r\n            id={Number(sessionStorage.ID)}\r\n            nome={sessionStorage.NOME}\r\n            className=\"avatar\"\r\n          />\r\n        </ListItemIcon>\r\n        <Typography variant=\"h6\" component=\"div\">\r\n          {sessionStorage.NOME}\r\n        </Typography>\r\n      </ListItem>\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  Divider,\r\n} from \"@mui/material\";\r\nimport React, { useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport { marcarMensagemComoLida } from \"../../../utils/utils\";\r\nimport { Timestamp } from \"firebase/firestore\";\r\nimport {\r\n  fromTimestampToFormatHour,\r\n  fromTimestampToFormatDate,\r\n  fromDateToFormatDate,\r\n} from \"../../../utils/utils\";\r\nimport { db } from \"../../../utils/firebase\";\r\nimport AvatarComFoto from \"../../Global/AvatarComFoto\";\r\n\r\nexport default function ChatItem(props) {\r\n  const [lida, setLida] = React.useState(props.lida);\r\n  const [qtdNaoLidas, setQtdNaoLidas] = React.useState(10);\r\n  const [carregouNaoLidas, setCarregouNaoLidas] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    setCarregouNaoLidas(false);\r\n   \r\n    const unsubscribe = db\r\n      .collection(\"chats\")\r\n      .doc(props.id)\r\n      .collection(\"mensagens\")\r\n      .where(\"idEnviou\", \"!=\", Number(sessionStorage.getItem(\"ID\")))\r\n      .where(\"lida\", \"==\", false)\r\n      .onSnapshot((snapshot) => {\r\n        setQtdNaoLidas(snapshot.docs.length);\r\n        setCarregouNaoLidas(true);\r\n      });\r\n    if (carregouNaoLidas) {\r\n    }\r\n    return () => unsubscribe();\r\n  }, [qtdNaoLidas]);\r\n\r\n  function handleClick() {\r\n    props.onClick();\r\n    setLida(true);\r\n    marcarMensagemComoLida(props.id);\r\n  }\r\n\r\n  var data = new Timestamp(\r\n    props.timestamp?.seconds,\r\n    props.timestamp?.nanoseconds\r\n  ).toDate();\r\n\r\n  var hoje = new Date();\r\n\r\n  const isToday =\r\n    data.getDate() === hoje.getDate() &&\r\n    data.getMonth() === hoje.getMonth() &&\r\n    data.getFullYear() === hoje.getFullYear();\r\n\r\n  var dataFormatada = fromTimestampToFormatDate(props.timestamp);\r\n\r\n  const horario = fromTimestampToFormatHour(props.timestamp);\r\n\r\n  if (\r\n    fromTimestampToFormatDate(props.timestamp) ===\r\n    fromDateToFormatDate(new Date(new Date().setDate(new Date().getDate() - 1)))\r\n  ) {\r\n    dataFormatada = \"Ontem\";\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ListItem button onClick={handleClick} className=\"chat_item\">\r\n        <ListItemAvatar>\r\n          <AvatarComFoto\r\n            id={props.idContato}\r\n            nome={props.nome}\r\n            className=\"avatar\"\r\n          />\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={props.nome}\r\n          secondary={\r\n            <Box className=\"ultima_mensagem\">{props.ultimaMensagem}</Box>\r\n          }\r\n          style={{ width: \"40%\" }}\r\n        />\r\n        <ListItemText className=\"data_box\">\r\n          <Box className=\"data_notificacao\">\r\n            <Box className=\"tempo\">{isToday ? horario : dataFormatada}</Box>\r\n            {qtdNaoLidas !== 0 ? (\r\n              <Box className=\"notificacao\">\r\n                <Box className=\"notificacao_numero\">{qtdNaoLidas}</Box>\r\n              </Box>\r\n            ) : null}\r\n          </Box>\r\n        </ListItemText>\r\n      </ListItem>\r\n      <Divider variant=\"fullWidth\" className=\"divider_chat\" />\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport {db, storage} from \"../../../utils/firebase\";\r\nimport ChatItem from \"../ChatItem\";\r\nimport {\r\n  query,\r\n  collection,\r\n  where,\r\n  onSnapshot,\r\n  or,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\n\r\nexport default function ChatList(props) {\r\n  const [chats, setChats] = React.useState([]);\r\n  const [carregouConversas, setCarregouConversas] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    const q = query(\r\n      collection(db, \"chats\"),\r\n      or(\r\n        where(\"idProfessor\", \"==\", Number(sessionStorage.ID)),\r\n        where(\"idAluno\", \"==\", Number(sessionStorage.ID))\r\n      ),\r\n      orderBy(\"timestamp\", \"desc\")\r\n    );\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      setChats(\"\");\r\n      setChats(\r\n        snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          data: {\r\n            idAluno: doc.data().idAluno,\r\n            idProfessor: doc.data().idProfessor,\r\n            nome:\r\n              sessionStorage.CATEGORIA === \"Aluno\"\r\n                ? doc.data().nomeProfessor\r\n                : doc.data().nomeAluno,\r\n            ultimaMensagem: doc.data().ultimaMensagem,\r\n            lida: doc.data().lida,\r\n            timestamp: doc.data().timestamp,\r\n            bloqueado: doc.data().bloqueado,\r\n            \r\n          },\r\n        }))\r\n      );\r\n    });\r\n \r\n  }, []);\r\n  return (\r\n    <>\r\n      \r\n      {chats.map((chat) => (\r\n        <ChatItem\r\n          id={chat.id}\r\n          key={chat.id}\r\n          nome={chat.data.nome}\r\n          ultimaMensagem={chat.data.ultimaMensagem}\r\n          timestamp={chat.data.timestamp}\r\n          lida={chat.data.lida}\r\n          foto={chat.data.foto}\r\n          onClick={() => {\r\n            props.onChatClick(chat);\r\n          }}\r\n          idContato={sessionStorage.CATEGORIA == \"Aluno\" ? chat.data.idProfessor : chat.data.idAluno}\r\n        />\r\n      ))}\r\n      \r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../../../utils/firebase\";\r\nimport \"./style.css\";\r\nimport { Box, CircularProgress } from \"@mui/material\";\r\nimport {\r\n  query,\r\n  collection,\r\n  where,\r\n  onSnapshot,\r\n  or,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport ChatContainer from \"../../../components/Chat/ChatContainer\";\r\nimport ProfileChat from \"../../../components/Chat/ProfileChat\";\r\nimport ChatList from \"../../../components/Chat/ChatList\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst Chat = (props) => {\r\n  const [activeChat, setActiveChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [nomeChat, setNomeChat] = useState(\"\");\r\n  const [srcChat, setSrcChat] = useState(\"\");\r\n  const [chats, setChats] = useState([]);\r\n  const [bloqueado, setBloqueado] = useState(false);\r\n  const [carregouConversas, setCarregouConversas] = useState(false);\r\n  const [idUsuarioConversa, setIdUsuarioConversa] = useState(0);\r\n  const location = useLocation();\r\n  const idChatAtivo = location.state ? location.state.idChatAtivo : null;\r\n  const chatAtivo = location.state ? location.state.chatAtivo : null;\r\n\r\n  useEffect(() => {\r\n    const q = query(\r\n      collection(db, \"chats\"),\r\n      or(\r\n        where(\"idProfessor\", \"==\", Number(sessionStorage.idUsuario)),\r\n        where(\"idAluno\", \"==\", Number(sessionStorage.idUsuario))\r\n      ),\r\n      orderBy(\"timestamp\", \"desc\")\r\n    );\r\n    const unsubscribe = onSnapshot(q, (snapshot) => {\r\n      setChats(\"\");\r\n      setChats(\r\n        snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          data: {\r\n            idAluno: doc.data().idAluno,\r\n            idProfessor: doc.data().idProfessor,\r\n            nome:\r\n              (sessionStorage.CATEGORIA === \"Aluno\") === \"aluno\"\r\n                ? doc.data().nomeProfessor\r\n                : doc.data().nomeAluno,\r\n            src:\r\n              (sessionStorage.CATEGORIA === \"Aluno\") === \"aluno\"\r\n                ? doc.data().srcProfessor\r\n                : doc.data().srcAluno,\r\n            ultimaMensagem: doc.data().ultimaMensagem,\r\n            lida: doc.data().lida,\r\n            timestamp: doc.data().timestamp,\r\n            bloqueado: doc.data().bloqueado,\r\n          },\r\n        }))\r\n      );\r\n    });\r\n\r\n    setCarregouConversas(true);\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    if (idChatAtivo !== null && chatAtivo !== null) {\r\n      setActiveChat(idChatAtivo);\r\n      if (sessionStorage.CATEGORIA === \"Aluno\") {\r\n        setNomeChat(chatAtivo.nomeProfessor);\r\n        setIdUsuarioConversa(chatAtivo.idProfessor);\r\n      } else {\r\n        setNomeChat(chatAtivo.nomeAluno);\r\n        setIdUsuarioConversa(chatAtivo.idAluno);\r\n      }\r\n      setMessages([]);\r\n      setBloqueado(chatAtivo.bloqueado);\r\n\r\n    }\r\n  }, [chatAtivo, idChatAtivo]);\r\n  if (carregouConversas) {\r\n    return (\r\n      <>\r\n        <Box className=\"chat_page\">\r\n          <Box className=\"chat_container\">\r\n            <Box className=\"chat_left\">\r\n              <ProfileChat />\r\n\r\n              <Box className=\"chat_list_container\">\r\n                <ChatList\r\n                  onChatClick={(chat) => {\r\n                    if (sessionStorage.CATEGORIA === \"Aluno\") {\r\n                      setIdUsuarioConversa(chat.data.idProfessor);\r\n                    } else {\r\n                      setIdUsuarioConversa(chat.data.idAluno);\r\n                    }\r\n                    setActiveChat(chat.id);\r\n                    setNomeChat(chat.data.nome);\r\n                    setMessages([]);\r\n                    setBloqueado(chat.data.bloqueado);\r\n                  }}\r\n                />\r\n              </Box>\r\n            </Box>\r\n            <Box className=\"message_container\">\r\n              {activeChat ? (\r\n                <>\r\n                  <ChatContainer\r\n                    id={activeChat}\r\n                    nome={nomeChat}\r\n                    isBloqueado={bloqueado}\r\n                    valueInput={inputValue}\r\n                    idUsuarioConversa={idUsuarioConversa}\r\n                    onChange={(e) => setInputValue(e)}\r\n                    onClick={() => setInputValue(\"\")}\r\n                  />\r\n                </>\r\n              ) : (\r\n                <Box className=\"empty_chat\">\r\n                  <p>Olá! Seja bem vindo ao chat</p>\r\n                  <p>Clique em algum chat para começar a conversar</p>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </>\r\n    );\r\n  } else {\r\n    return <CircularProgress color=\"success\" />;\r\n  }\r\n};\r\n\r\nexport default Chat;\r\n","// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/firestore\";\r\nimport \"firebase/compat/storage\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBlrwBDwFdwkutdVO2Ilg6KUPnFFwKWD2k\",\r\n  authDomain: \"chat-harmonyo.firebaseapp.com\",\r\n  projectId: \"chat-harmonyo\",\r\n  storageBucket: \"chat-harmonyo.appspot.com\",\r\n  messagingSenderId: \"295019787606\",\r\n  appId: \"1:295019787606:web:eb01ac75f11c05b72d92f7\",\r\n  measurementId: \"G-2K9ZW7N0C1\"\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = app.firestore();\r\n\r\nconst storage = app.storage(\"gs://chat-harmonyo.appspot.com/\");\r\n\r\nexport  {db, storage};"],"names":["AvatarComFoto","props","ref","idUsuario","id","nomeUsuario","nome","_useState","useState","_useState2","_slicedToArray","imgPerfilURL","setImgPerfilURL","_useState3","_useState4","erroAoCarregar","setErroAoCarregar","useImperativeHandle","getImgPerfilURL","obterImgPerfil","urlImg","concat","storage","getDownloadURL","then","url","catch","useEffect","naoCarregar","imgUrl","recarregarImg","corDeFundoPerfil","sxAdicional","sx","_jsx","Avatar","className","onClick","ariaControls","ariaHaspopup","ariaExpanded","children","charAt","src","forwardRef","fromTimestampToFormatDate","timestamp","dataMensagem","Timestamp","seconds","nanoseconds","toDate","getDate","getMonth","getFullYear","fromDateToFormatDate","dataPassada","data","Date","ChatHeader","_React$useState","React","abreModal","_React$useState2","open","setOpen","_React$useState3","_React$useState4","denuncia","setDenuncia","_React$useState5","_React$useState6","outro","setOutro","_React$useState7","_React$useState8","ehOutro","setEhOutro","_React$useState9","_React$useState10","erro","setErro","handleClose","_jsxs","_Fragment","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","FormControl","fullWidth","InputLabel","Select","labelId","value","label","onChange","event","target","error","MenuItem","TextField","variant","helperText","e","DialogActions","Button","objetoDenuncia","idConversa","serverTimestamp","db","collection","add","update","bloqueado","ultimaMensagem","alert","window","location","reload","console","log","denunciarUsuario","motivo","idDenunciante","Number","sessionStorage","ID","idDenunciado","idUsuarioConversa","autoFocus","Grid","item","xs","style","borderRight","List","ListItem","ListItemIcon","ListItemText","primary","width","marginRight","button","SmsFailedIcon","fontSize","Divider","ChatInput","container","padding","InputBase","ml","flex","placeholder","multiline","rows","onKeyDown","key","preventDefault","onChangeCapture","border","borderRadius","align","Fab","color","Send","CaixaMensagem","posicao","idEnviou","getItem","horario","getHours","getMinutes","maxWidth","texto","wordWrap","secondary","alignSelf","justifyContent","DivisorDate","Box","MessagesContainer","mensagens","setMensagens","carregouMensagens","setCarregouMensagens","contador","ultimaData","refDiv","useRef","unsubscribe","orderBy","onSnapshot","snapshot","docs","map","doc","_toConsumableArray","lida","current","scrollTop","scrollHeight","mensagem","dataExibir","setDate","onLoad","display","CircularProgress","ChatContainer","isBloqueado","ChatInputBloqueado","valueInput","msgAdd","objDiv","document","getElementById","enviarMensagem","ProfileChat","navigate","useNavigate","height","ArrowBackIcon","background","NOME","Typography","component","ChatItem","_props$timestamp","_props$timestamp2","setLida","qtdNaoLidas","setQtdNaoLidas","setCarregouNaoLidas","where","length","hoje","isToday","dataFormatada","fromTimestampToFormatHour","get","forEach","ListItemAvatar","idContato","ChatList","chats","setChats","q","query","or","idAluno","idProfessor","CATEGORIA","nomeProfessor","nomeAluno","chat","foto","onChatClick","activeChat","setActiveChat","setMessages","_useState5","_useState6","inputValue","setInputValue","_useState7","_useState8","nomeChat","setNomeChat","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","setBloqueado","_useState15","_useState16","carregouConversas","setCarregouConversas","_useState17","_useState18","setIdUsuarioConversa","useLocation","idChatAtivo","state","chatAtivo","srcProfessor","srcAluno","app","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore"],"sourceRoot":""}