"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[442],{1687:function(a,e,o){var n=o(1243).Z.create({baseURL:"http://localhost:8080"});e.Z=n},3345:function(a,e,o){var n=o(9439),t=o(3044),r=o(2791),s=o(1659),i=o(184);function c(a,e){var o=a.id,c=a.nome,l=(0,r.useState)(""),u=(0,n.Z)(l,2),d=u[0],m=u[1],f=(0,r.useState)(!1),h=(0,n.Z)(f,2),v=(h[0],h[1]),Z=(0,r.useState)(!1),g=(0,n.Z)(Z,2),x=g[0],p=g[1];(0,r.useImperativeHandle)(e,(function(){return{getImgPerfilURL:function(){return d}}}),[d]);var j=function(a){var e="/imgs-perfil-usuario/".concat(a,"_ft_perfil");s.t.ref(e).getDownloadURL().then((function(a){m(a),v(!0)})).catch((function(){p(!0)}))};(0,r.useEffect)((function(){a.naoCarregar&&(a.imgUrl?m(a.imgUrl):j(o))}),[]),(0,r.useEffect)((function(){a.imgUrl?(m(a.imgUrl),p(!1)):j(o)}),[a.recarregarImg]);var N=x?"#099250":"#eeeeee",b=a.sx?a.sx:{};return b.bgcolor=N,x?(0,i.jsx)(t.Z,{className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:b,children:x?c.charAt(0):""}):(0,i.jsx)(t.Z,{src:x?null:d,className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:b,children:x?c.charAt(0):""})}e.Z=(0,r.forwardRef)(c)},4056:function(a,e,o){o.d(e,{Z:function(){return K}});var n=o(9439),t=o(2791),r=o(4554),s=o(9284),i=o(9310),c=o(2125),l=o(6630),u=o(9230),d=o(3709),m=o(2167),f=o(13),h=o(533),v=o(890),Z=o(184);var g=function(a){return(0,Z.jsx)(h.Z,{className:"navbar-lateral-card-container",href:a.href,underline:"none",children:(0,Z.jsxs)(r.Z,{className:"navbar-lateral-card ".concat(a.active?"active":"not-active"),children:[a.hover?(0,Z.jsx)(a.icon,{className:"navbar-lateral-card-img-hover"}):(0,Z.jsx)(a.icon,{className:"navbar-lateral-card-img"}),a.hover?(0,Z.jsx)(v.Z,{className:"navbar-lateral-card-texto",children:a.titulo}):""]})})};var x=function(a){var e=t.useState(!1),o=(0,n.Z)(e,2),h=o[0],v=o[1],x=sessionStorage.getItem("CATEGORIA").toLocaleLowerCase(),p={professor:[{titulo:"Dashboard",icon:i.Z,active:"dashboard"===a.tela,href:"/dashboard-professor"},{titulo:"Agenda",icon:c.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:l.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:u.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Aulas",icon:d.Z,active:"aulas"===a.tela,href:"/aulas"}],aluno:[{titulo:"Encontrar",icon:m.Z,active:"encontrar"===a.tela,href:"/encontrar-professor"},{titulo:"Agenda",icon:c.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:l.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:u.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Feedbacks",icon:f.Z,active:"feedbacks"===a.tela,href:"/feedbacks"}],administrador:[{titulo:"Dashboard",icon:i.Z,active:"dashboard"===a.tela,href:"/dashboard-administrador"}]};return(0,Z.jsx)(r.Z,{className:"navbar-lateral-background",children:(0,Z.jsxs)(r.Z,{className:"navbar-lateral",onMouseEnter:function(){return setTimeout((function(){return v(!0)}),50)},onMouseLeave:function(){return setTimeout((function(){return v(!1)}),150)},children:[(0,Z.jsxs)("a",{href:"/",className:"navbar-lateral-logo-container",children:[(0,Z.jsx)(s.Z,{icon:!0,white:!0,height:"40px",className:"navbar-lateral-logo ".concat(h?"hidden":"")}),(0,Z.jsx)(s.Z,{white:!0,width:"200px",className:"navbar-lateral-logo ".concat(h?"":"hidden")})]}),(0,Z.jsx)(r.Z,{className:"navbar-lateral-cards",children:p[x].map((function(a){return(0,Z.jsx)(g,{href:a.href,titulo:a.titulo,icon:a.icon,active:a.active,hover:h},"opcao-navbar-".concat(a.titulo))}))})]})})},p=o(2),j=o(8121),N=o(3786),b=o.p+"static/media/business-proposal.0fb9562397d64134bfe0.png",C=o(5117);var S=function(a){return(0,Z.jsx)(C.Z,{id:a.menuId,anchorEl:a.anchorEl,open:a.open,onClose:a.handleClose,MenuListProps:{"aria-labelledby":a.buttonClassName},children:a.children})},I=o(2426),E=o.n(I),A=(o(827),o(1687)),k=function(a,e){return A.Z.put(a,e,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})};var T=function(a){var e=sessionStorage.getItem("ID"),o=(0,t.useState)(0),s=(0,n.Z)(o,2),i=s[0],c=s[1],l=(0,t.useState)([]),u=(0,n.Z)(l,2),d=u[0],m=u[1],f=(0,t.useState)(0),h=(0,n.Z)(f,2),g=h[0],x=h[1],C=(0,t.useState)(null),I=(0,n.Z)(C,2),T=I[0],w=I[1],y=!!T,P=function(){var a;(a="/notificacoes/usuario/".concat(sessionStorage.ID),A.Z.get(a,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})).then((function(a){var e=a.data,o=e.content;console.log("Recebi a notificacao: "),console.log(o),204!==a.status?(o.forEach((function(a){a.tempo=E()(a.data).fromNow(),a.src=b})),c(e.totalPages),m(o),x(o.filter((function(a){return!a.lida})).length)):m([])})).catch((function(a){console.log(a)}))};return(0,t.useEffect)((function(){P()}),[]),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(j.Z,{id:"notificacao-botao",className:"container-usuario-notificacao",color:"primary",badgeContent:g,"aria-controls":y?"notificacao-menu":void 0,"aria-haspopup":"true","aria-expanded":y?"true":void 0,onClick:function(a){w(a.currentTarget)},children:(0,Z.jsx)(p.Z,{})}),(0,Z.jsxs)(S,{menuId:"notificacao-menu",buttonClassName:"notificacao-botao",anchorEl:T,open:y,handleClose:function(){w(null)},className:"notificacao-card",children:[(0,Z.jsxs)(r.Z,{className:"notificacao-menu-container-title",children:[(0,Z.jsx)(v.Z,{className:"notificacao-menu-title",children:"Notifica\xe7\xf5es"}),g>0?(0,Z.jsx)(v.Z,{className:"notificacao-menu-lido",onClick:function(){k("/notificacoes/lida-usuario/".concat(e),{}).then((function(a){200===a.status&&(d.forEach((function(a){a.lida=!0})),m(d),x(0))})).catch((function(a){console.log(a)}))},children:"Marcar como visto"}):""]}),d.map((function(a){return(0,Z.jsxs)(N.Z,{className:"notificacao-menu-item",onClick:function(){var e;e=a.id,k("/notificacoes/lida/".concat(e),{}).then((function(a){200===a.status&&(alert("Lendo a notificacao com id: "+e),d.forEach((function(a){a.id===e&&(a.lida=!0)})),m(d),g>0&&x(g-1))})).catch((function(a){console.log(a)}))},sx:{backgroundColor:a.lido?"var(--notificacao-nao-lida)":"var(--notificacao-lida)"},children:[(0,Z.jsxs)(r.Z,{className:"notificacao-menu-item-info-container",children:[(0,Z.jsx)("img",{src:a.src,className:"notificacao-menu-item-img",alt:""}),(0,Z.jsx)(v.Z,{className:"notificacao-menu-item-titulo",children:a.titulo})]}),(0,Z.jsx)(r.Z,{className:"notificacao-menu-item-container-tempo",children:(0,Z.jsx)(v.Z,{className:"notificacao-menu-item-tempo",children:a.tempo})})]},a.id)})),i>1?(0,Z.jsx)(r.Z,{sx:{width:"100%",height:"fit-content",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Z.jsx)(v.Z,{className:"notificacao-menu-lido",children:"Mostrar Todos"})}):""]})]})},w=o.p+"static/media/user.05d0404ad8a0ab5bdefa.png",y=o.p+"static/media/logout.0becdbc391b7088ace83.png",P=o(7689),U=o(3345),z=[{id:1,src:w,titulo:"Meu Perfil",url:"/perfil"},{id:3,src:y,titulo:"Sair",url:"/"}],D=sessionStorage.getItem("NOME");var O=function(a){var e=(0,P.s0)(),o=t.useState(null),s=(0,n.Z)(o,2),i=s[0],c=s[1],l=Boolean(i),u=function(a){c(null),e(a.url)};return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(U.Z,{id:sessionStorage.getItem("ID"),nome:D,className:"avatar-usuario-img",onClick:function(a){c(a.currentTarget)},ariaControls:l?"avatar-usuario-menu":void 0,ariaHaspopup:"true",ariaExpanded:l?"true":void 0,recarregarImg:a.recarregarTodasImgs}),(0,Z.jsxs)(S,{menuId:"avatar-usuario-menu",buttonClassName:"avatar-usuario-botao",anchorEl:i,open:l,handleClose:u,children:[(0,Z.jsxs)(r.Z,{className:"avatar-usuario-menu-user-info",children:[(0,Z.jsx)(U.Z,{id:sessionStorage.getItem("ID"),className:"avatar-usuario-img",nome:D}),(0,Z.jsxs)(r.Z,{className:"avatar-usuario-menu-user-info-text",children:[(0,Z.jsx)(v.Z,{className:"avatar-usuario-menu-nome",children:D}),(0,Z.jsx)(v.Z,{className:"avatar-usuario-menu-email",children:sessionStorage.getItem("EMAIL")})]})]}),(0,Z.jsx)(r.Z,{className:"opcoes-container",children:z.map((function(a){return(0,Z.jsxs)(N.Z,{className:"avatar-usuario-menu-item",onClick:function(){return u(a)},children:[(0,Z.jsx)("img",{src:a.src,className:"avatar-usuario-menu-item-img",alt:""}),(0,Z.jsx)(v.Z,{className:"avatar-usuario-menu-item-titulo",children:a.titulo})]},a.id)}))})]})]})};var R=function(a){return(0,Z.jsxs)(r.Z,{className:"container-usuario",children:[(0,Z.jsx)(T,{}),(0,Z.jsx)(O,{recarregarTodasImgs:a.recarregarTodasImgs})]})},L=o(9658),M=o(3400),B=o(6739);var K=function(a){var e=(0,t.useState)(!1),o=(0,n.Z)(e,2),s=(o[0],o[1]),i=(0,t.useState)([]),c=(0,n.Z)(i,2),l=c[0],u=c[1],d=a.recarregarTodasImgs;return(0,t.useEffect)((function(){a.errosState&&u(a.errosState.erros)}),[a.errosState]),(0,t.useEffect)((function(){d&&s(d)}),[d]),(0,Z.jsxs)(r.Z,{className:"mui-root",children:[(0,Z.jsx)(r.Z,{className:"erro-container",children:l&&l.map((function(e,o){return(0,Z.jsx)(L.Z,{severity:"error",action:(0,Z.jsx)(M.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return a.errosState.setErros(l.filter((function(a,e){return e!==o})))},children:(0,Z.jsx)(B.Z,{fontSize:"inherit"})}),sx:{zIndex:1e3},children:e},o)}))}),(0,Z.jsx)(x,{tela:a.tela}),(0,Z.jsxs)(r.Z,{className:"pagina-padrao-container",children:[(0,Z.jsx)(R,{recarregarTodasImgs:d}),a.children]})]})}},1399:function(a,e,o){o.d(e,{Z:function(){return Z}});var n=o(1413),t=o(9439),r=o(2791),s=o(4554),i=o(6151),c=o(3827),l=o(890),u=o(8316),d=o(3006),m=o(9823),f=o(3345),h=o(1687),v=o(184);var Z=function(a){var e=r.useState(!1),o=(0,t.Z)(e,2),Z=o[0],g=o[1],x=function(){return g(!1)},p=r.useState(0),j=(0,t.Z)(p,2),N=j[0],b=j[1],C=a.stateUsuario,S=(0,r.useState)({dadosEnviar:!1}),I=(0,t.Z)(S,2),E=I[0],A=I[1],k=(0,r.useState)(""),T=(0,t.Z)(k,2),w=T[0],y=T[1],P=(0,r.useState)(!1),U=(0,t.Z)(P,2),z=U[0],D=U[1];function O(){var e={usuarioAvaliadorId:parseInt(sessionStorage.ID),valor:N,comentario:w,pedidoId:a.stateUsuario.id};console.log(e);var o=0;o="Professor"===sessionStorage.CATEGORIA?a.stateUsuario.aluno.id:a.stateUsuario.professor.id,h.Z.post("/usuarios/".concat(o,"/avaliacoes"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){alert("Avalia\xe7\xe3o feita com sucesso!"),x()})).catch((function(a){console.log(a)}))}h.Z.get("/usuarios/".concat(a.stateUsuario.id,"/").concat(sessionStorage.ID),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){D(a.data)}));var R="Professor"===sessionStorage.CATEGORIA?C.aluno.id:C.professor.id,L="Professor"===sessionStorage.CATEGORIA?C.aluno.nome.charAt(0):C.professor.nome.charAt(0);return z?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(s.Z,{className:"modal",children:(0,v.jsx)(s.Z,{className:"avaliado",children:(0,v.jsx)(s.Z,{className:"box-avaliado",children:"Avaliado"})})})}):(0,v.jsxs)(s.Z,{className:"modal",children:[(0,v.jsx)(i.Z,{className:"modal-button-open",onClick:function(){return g(!0)},children:"Avaliar Aula"}),(0,v.jsx)(c.Z,{open:Z,onClose:x,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,v.jsxs)(s.Z,{className:"modal-avaliacao",children:[(0,v.jsxs)(s.Z,{className:"modal-area",children:[(0,v.jsxs)(s.Z,{className:"modal-head",children:[(0,v.jsx)(f.Z,{id:R,nome:L,sx:{width:90,height:90,fontSize:35}}),(0,v.jsxs)(s.Z,{className:"modal-usuario",children:[(0,v.jsx)(l.Z,{id:"modal-modal-title",variant:"h8",component:"h2",children:"Professor"===sessionStorage.CATEGORIA?C.aluno.nome:C.professor.nome}),(0,v.jsxs)(s.Z,{className:"avaliacao-usuario",children:[(0,v.jsx)(u.Z,{className:"valor_avaliacao",value:N,precision:1,size:"medium",onChange:function(a,e){b(e)}}),(0,v.jsx)(s.Z,{className:"avaliacao-numero",children:N})]})]})]}),(0,v.jsx)(s.Z,{className:"modal-close",children:(0,v.jsx)(i.Z,{className:"button-close",onClick:x,children:(0,v.jsx)(m.Z,{})})})]}),(0,v.jsxs)(s.Z,{className:"modal-body",children:[(0,v.jsx)(s.Z,{className:"box-text-input",children:(0,v.jsx)(d.Z,{className:"comentario_avaliacao",onChange:function(a){return y(a.target.value)},multiline:!0,rows:6})}),(0,v.jsx)(i.Z,{onClick:function(){(0===N?(alert("Por favor, avalie o usu\xe1rio!"),1):w.length<=3&&(alert("Por favor, escreva um coment\xe1rio!"),1))||A((0,n.Z)((0,n.Z)({},E),{},{dadosEnviar:O()}))},className:"modal-button",children:"Avaliar"})]})]})})]})}},1659:function(a,e,o){o.d(e,{db:function(){return r},t:function(){return s}});var n=o(3897),t=(o(2806),o(5778),n.Z.initializeApp({apiKey:"AIzaSyBlrwBDwFdwkutdVO2Ilg6KUPnFFwKWD2k",authDomain:"chat-harmonyo.firebaseapp.com",projectId:"chat-harmonyo",storageBucket:"chat-harmonyo.appspot.com",messagingSenderId:"295019787606",appId:"1:295019787606:web:eb01ac75f11c05b72d92f7",measurementId:"G-2K9ZW7N0C1"})),r=t.firestore(),s=t.storage("gs://chat-harmonyo.appspot.com/")},9823:function(a,e,o){var n=o(4836);e.Z=void 0;var t=n(o(5649)),r=o(184),s=(0,t.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=s}}]);
//# sourceMappingURL=442.f59fce79.chunk.js.map