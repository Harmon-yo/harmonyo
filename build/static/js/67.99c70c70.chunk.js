"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[67],{1687:function(a,e,o){var n=o(1243).Z.create({baseURL:"http://".concat("44.218.142.250",":8080")});e.Z=n},3345:function(a,e,o){var n=o(9439),t=o(3044),i=o(2791),r=o(1659),s=o(184);function c(a,e){var o=a.id,c=a.nome,l=(0,i.useState)(""),d=(0,n.Z)(l,2),u=d[0],m=d[1],f=(0,i.useState)(!1),h=(0,n.Z)(f,2),x=(h[0],h[1]),v=(0,i.useState)(!1),g=(0,n.Z)(v,2),p=g[0],Z=g[1];(0,i.useImperativeHandle)(e,(function(){return{getImgPerfilURL:function(){return u}}}),[u]);var j=function(a){var e="/imgs-perfil-usuario/".concat(a,"_ft_perfil");r.t.ref(e).getDownloadURL().then((function(a){m(a),x(!0)})).catch((function(){Z(!0)}))};(0,i.useEffect)((function(){a.naoCarregar&&(a.imgUrl?m(a.imgUrl):j(o))}),[]),(0,i.useEffect)((function(){a.imgUrl?(m(a.imgUrl),Z(!1)):j(o)}),[a.recarregarImg]);var b=p?"#099250":"#eeeeee",N=a.sx?a.sx:{};return N.bgcolor=b,p?(0,s.jsx)(t.Z,{className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:N,children:p?c.charAt(0):""}):(0,s.jsx)(t.Z,{src:p?null:u,className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:N,children:p?c.charAt(0):""})}e.Z=(0,i.forwardRef)(c)},4056:function(a,e,o){o.d(e,{Z:function(){return V}});var n=o(9439),t=o(2791),i=o(4554),r=o(6151),s=o(9284),c=o(9310),l=o(2125),d=o(6630),u=o(9230),m=o(3709),f=o(13),h=o(2167),x=o(297),v=o(533),g=o(890),p=o(184);var Z=function(a){return(0,p.jsx)(v.Z,{className:"navbar-lateral-card-container",href:a.href,underline:"none",children:(0,p.jsxs)(i.Z,{className:"navbar-lateral-card ".concat(a.active?"active":"not-active"),children:[a.hover?(0,p.jsx)(a.icon,{className:"navbar-lateral-card-img-hover"}):(0,p.jsx)(a.icon,{className:"navbar-lateral-card-img"}),a.hover?(0,p.jsx)(g.Z,{className:"navbar-lateral-card-texto",children:a.titulo}):""]})})},j=o(1687);var b=function(a){var e=t.useState(!1),o=(0,n.Z)(e,2),v=o[0],g=o[1],j=sessionStorage.getItem("CATEGORIA").toLocaleLowerCase(),b={professor:[{titulo:"Dashboard",icon:c.Z,active:"dashboard"===a.tela,href:"/dashboard-professor"},{titulo:"Agenda",icon:l.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:d.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:u.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Aulas",icon:m.Z,active:"aulas"===a.tela,href:"/aulas"},{titulo:"Feedbacks",icon:f.Z,active:"feedbacks"===a.tela,href:"/feedbacks"}],aluno:[{titulo:"Encontrar",icon:h.Z,active:"encontrar"===a.tela,href:"/encontrar-professor"},{titulo:"Agenda",icon:l.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:d.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:u.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Feedbacks",icon:f.Z,active:"feedbacks"===a.tela,href:"/feedbacks"}],administrador:[{titulo:"Dashboard",icon:c.Z,active:"dashboard"===a.tela,href:"/dashboard-administrador"}]};return(0,p.jsx)(i.Z,{className:"navbar-lateral-background",children:(0,p.jsxs)(i.Z,{className:"navbar-lateral",onMouseEnter:function(){return setTimeout((function(){return g(!0)}),50)},onMouseLeave:function(){return setTimeout((function(){return g(!1)}),150)},children:[(0,p.jsxs)("a",{href:"/",className:"navbar-lateral-logo-container",children:[(0,p.jsx)(s.Z,{icon:!0,white:!0,height:"40px",className:"navbar-lateral-logo ".concat(v?"hidden":"")}),(0,p.jsx)(s.Z,{white:!0,width:"200px",className:"navbar-lateral-logo ".concat(v?"":"hidden")})]}),(0,p.jsxs)(i.Z,{className:"navbar-lateral-cards",children:[b[j].map((function(a){return(0,p.jsx)(Z,{href:a.href,titulo:a.titulo,icon:a.icon,active:a.active,hover:v},"opcao-navbar-".concat(a.titulo))})),"administrador"===j?(0,p.jsxs)(r.Z,{onClick:function(){fetch("http://localhost:8080/professores/download-csv",{method:"GET",responseType:"blob",headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){return a.blob()})).then((function(a){var e=window.URL.createObjectURL(a),o=document.createElement("a");o.href=e,o.download="data.csv",o.click(),window.URL.revokeObjectURL(e)})).catch((function(a){console.error("Erro:",a)}))},color:"primary",className:"button-export",children:[" ",(0,p.jsx)(x.Z,{className:"export-logo "})," ",(0,p.jsx)("h4",{className:"export-logo ".concat(v?"":"hidden"),children:" Exporta\xe7\xe3o dados prof."})," "]}):""]})]})})},N=o(2),k=o(3021),I=o(3786),C=o.p+"static/media/business-proposal.0fb9562397d64134bfe0.png",S=o(5117);var E=function(a){return(0,p.jsx)(S.Z,{id:a.menuId,anchorEl:a.anchorEl,open:a.open,onClose:a.handleClose,MenuListProps:{"aria-labelledby":a.buttonClassName},children:a.children})},A=o(2426),w=o.n(A),y=(o(827),function(a,e){return j.Z.put(a,e,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})});var T=function(a){var e=sessionStorage.getItem("ID"),o=(0,t.useState)(0),r=(0,n.Z)(o,2),s=r[0],c=r[1],l=(0,t.useState)([]),d=(0,n.Z)(l,2),u=d[0],m=d[1],f=(0,t.useState)(0),h=(0,n.Z)(f,2),x=h[0],v=h[1],Z=(0,t.useState)(null),b=(0,n.Z)(Z,2),S=b[0],A=b[1],T=!!S,F=function(){var a;(a="/notificacoes/usuario/".concat(sessionStorage.ID),j.Z.get(a,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})).then((function(a){var e=a.data,o=e.content;console.log("Recebi a notificacao: "),console.log(o),204!==a.status?(o.forEach((function(a){a.tempo=w()(a.data).fromNow(),a.src=C})),c(e.totalPages),m(o),v(o.filter((function(a){return!a.lida})).length)):m([])})).catch((function(a){console.log(a)}))};return(0,t.useEffect)((function(){F()}),[]),(0,p.jsxs)("div",{children:[(0,p.jsx)(k.Z,{id:"notificacao-botao",className:"container-usuario-notificacao",color:"primary",badgeContent:x,"aria-controls":T?"notificacao-menu":void 0,"aria-haspopup":"true","aria-expanded":T?"true":void 0,onClick:function(a){A(a.currentTarget)},children:(0,p.jsx)(N.Z,{})}),(0,p.jsxs)(E,{menuId:"notificacao-menu",buttonClassName:"notificacao-botao",anchorEl:S,open:T,handleClose:function(){A(null)},className:"notificacao-card",children:[(0,p.jsxs)(i.Z,{className:"notificacao-menu-container-title",children:[(0,p.jsx)(g.Z,{className:"notificacao-menu-title",children:"Notifica\xe7\xf5es"}),x>0?(0,p.jsx)(g.Z,{className:"notificacao-menu-lido",onClick:function(){y("/notificacoes/lida-usuario/".concat(e),{}).then((function(a){200===a.status&&(u.forEach((function(a){a.lida=!0})),m(u),v(0))})).catch((function(a){console.log(a)}))},children:"Marcar como visto"}):""]}),u.map((function(a){return(0,p.jsxs)(I.Z,{className:"notificacao-menu-item",onClick:function(){var e;e=a.id,y("/notificacoes/lida/".concat(e),{}).then((function(a){200===a.status&&(alert("Lendo a notificacao com id: "+e),u.forEach((function(a){a.id===e&&(a.lida=!0)})),m(u),x>0&&v(x-1))})).catch((function(a){console.log(a)}))},sx:{backgroundColor:a.lido?"var(--notificacao-nao-lida)":"var(--notificacao-lida)"},children:[(0,p.jsxs)(i.Z,{className:"notificacao-menu-item-info-container",children:[(0,p.jsx)("img",{src:a.src,className:"notificacao-menu-item-img",alt:""}),(0,p.jsx)(g.Z,{className:"notificacao-menu-item-titulo",children:a.titulo})]}),(0,p.jsx)(i.Z,{className:"notificacao-menu-item-container-tempo",children:(0,p.jsx)(g.Z,{className:"notificacao-menu-item-tempo",children:a.tempo})})]},a.id)})),s>1?(0,p.jsx)(i.Z,{sx:{width:"100%",height:"fit-content",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(g.Z,{className:"notificacao-menu-lido",children:"Mostrar Todos"})}):""]})]})},F=o.p+"static/media/user.05d0404ad8a0ab5bdefa.png",R=o.p+"static/media/logout.0becdbc391b7088ace83.png",L=o(7689),M=o(3345),B=[{id:1,src:F,titulo:"Meu Perfil",url:"/perfil"},{id:3,src:R,titulo:"Sair",url:"/"}],D=sessionStorage.getItem("NOME");var U=function(a){var e=(0,L.s0)(),o=t.useState(null),r=(0,n.Z)(o,2),s=r[0],c=r[1],l=Boolean(s),d=function(a){c(null),e(a.url)};return(0,p.jsxs)("div",{children:[(0,p.jsx)(M.Z,{id:sessionStorage.getItem("ID"),nome:D,className:"avatar-usuario-img",onClick:function(a){c(a.currentTarget)},ariaControls:l?"avatar-usuario-menu":void 0,ariaHaspopup:"true",ariaExpanded:l?"true":void 0,recarregarImg:a.recarregarTodasImgs}),(0,p.jsxs)(E,{menuId:"avatar-usuario-menu",buttonClassName:"avatar-usuario-botao",anchorEl:s,open:l,handleClose:d,children:[(0,p.jsxs)(i.Z,{className:"avatar-usuario-menu-user-info",children:[(0,p.jsx)(M.Z,{id:sessionStorage.getItem("ID"),className:"avatar-usuario-img",nome:D}),(0,p.jsxs)(i.Z,{className:"avatar-usuario-menu-user-info-text",children:[(0,p.jsx)(g.Z,{className:"avatar-usuario-menu-nome",children:D}),(0,p.jsx)(g.Z,{className:"avatar-usuario-menu-email",children:sessionStorage.getItem("EMAIL")})]})]}),(0,p.jsx)(i.Z,{className:"opcoes-container",children:B.map((function(a){return(0,p.jsxs)(I.Z,{className:"avatar-usuario-menu-item",onClick:function(){return d(a)},children:[(0,p.jsx)("img",{src:a.src,className:"avatar-usuario-menu-item-img",alt:""}),(0,p.jsx)(g.Z,{className:"avatar-usuario-menu-item-titulo",children:a.titulo})]},a.id)}))})]})]})};var z=function(a){return(0,p.jsxs)(i.Z,{className:"container-usuario",children:[(0,p.jsx)(T,{}),(0,p.jsx)(U,{recarregarTodasImgs:a.recarregarTodasImgs})]})},O=o(4070),K=o(3400),P=o(3503),H=o(6739);var V=function(a){var e=(0,t.useState)([]),o=(0,n.Z)(e,2),r=o[0],s=o[1],c=a.avisosState,l=(0,t.useState)(!1),d=(0,n.Z)(l,2),u=(d[0],d[1]),m=a.recarregarTodasImgs,f=(0,t.useState)(!1),h=(0,n.Z)(f,2),x=h[0],v=h[1],g=a.carregarPaginaForcado;return(0,t.useEffect)((function(){c&&s(c.avisos)}),[c]),(0,t.useEffect)((function(){m&&u(m)}),[m]),(0,t.useEffect)((function(){v(g||!0)}),[g]),(0,p.jsxs)(i.Z,{className:"mui-root",children:[(0,p.jsx)(i.Z,{className:"erro-container",children:r&&r.map((function(a,e){return function(a,e,o,n){var t;"erro"===a.tipo&&(t=O.Z);return(0,p.jsx)(t,{severity:"error",action:(0,p.jsx)(K.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return e(o.filter((function(a,e){return e!==n})))},children:(0,p.jsx)(H.Z,{fontSize:"inherit"})}),sx:{zIndex:1e3},children:a.mensagem},n)}(a,c.setAvisos,c.avisos,e)}))}),(0,p.jsx)(b,{tela:a.tela}),(0,p.jsxs)(i.Z,{className:"pagina-padrao-container",children:[(0,p.jsx)(z,{recarregarTodasImgs:m}),x?a.children:(0,p.jsx)(P.Z,{})]})]})}},3589:function(a,e,o){o.r(e),o.d(e,{default:function(){return x}});var n=o(1413),t=o(9439),i=o(4056),r=o(4554),s=o(890),c=o(8316),l=o(3239),d=o(1687),u=o(2791),m=o(3345),f=o(184);var h=function(a){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(r.Z,{className:"container-feedback",children:[(0,f.jsx)(r.Z,{className:"box-ft-avaliador",children:(0,f.jsx)(m.Z,{id:a.id,className:"avatar-usuario",nome:""})}),(0,f.jsxs)(r.Z,{className:"box-info-avaliacao",children:[(0,f.jsx)(s.Z,{className:"txt-nome-avaliador",children:a.nome}),(0,f.jsxs)(r.Z,{className:"box-avaliacao-data",children:[(0,f.jsx)(s.Z,{sx:{fontWeight:"bold"},children:a.valorAvaliacao.toFixed(2)}),(0,f.jsx)(c.Z,{name:"half-rating-read",defaultValue:0,precision:.5,readOnly:!0,size:"medium",value:a.valorAvaliacao}),(0,f.jsx)(s.Z,{children:a.dataAvaliacao})]}),(0,f.jsx)(s.Z,{className:"txt-avaliacao",children:a.txtAvaliacao})]})]})})};var x=function(){var a=(0,u.useState)(!1),e=(0,t.Z)(a,2),o=e[0],x=e[1],v=(0,u.useState)({id:sessionStorage.getItem("ID"),nome:"",avaliacaoMedia:0,feedbackRecebidos:[]}),g=(0,t.Z)(v,2),p=g[0],Z=g[1];return(0,u.useEffect)((function(){d.Z.get("/usuarios/".concat(p.id,"/avaliacoes-recebidas"),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){var e=a.data;console.log(e),Z((0,n.Z)((0,n.Z)({},p),{},{nome:e.nome,avaliacaoMedia:e.avaliacaoMedia,feedbackRecebidos:e.avaliacoes})),x(!0)})).catch((function(a){console.log(a)}))}),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(i.Z,{children:(0,f.jsx)(r.Z,{className:"container-pagina-feedbacks",children:(0,f.jsxs)(r.Z,{className:"container-ft-perfil-e-feedbacks",children:[(0,f.jsx)(r.Z,{className:"box-ft-perfil",children:o?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m.Z,{id:sessionStorage.getItem("ID"),className:"ft-perfil",nome:""}),(0,f.jsxs)(r.Z,{className:"box-avaliacao",children:[(0,f.jsx)(s.Z,{sx:{fontWeight:"bold"},children:p.avaliacaoMedia.toFixed(2)}),(0,f.jsx)(c.Z,{name:"half-rating-read",defaultValue:0,precision:.5,readOnly:!0,size:"medium",value:p.avaliacaoMedia})]}),(0,f.jsx)(s.Z,{className:"txt-nome",children:p.nome})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{variant:"h6",sx:{width:"80%",textAlign:"center"},children:"Carregando informa\xe7\xf5es"}),(0,f.jsx)(l.Z,{style:{color:"#16B364"}})]})}),(0,f.jsx)(r.Z,{className:"box-feedbacks",children:o?p.feedbackRecebidos.length>0?p.feedbackRecebidos.map((function(a,e){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h,{index:e,id:a.idAvaliador,nome:a.nomeAvaliador,valorAvaliacao:a.valorAvaliacao,dataAvaliacao:a.dataAvaliacaoFormatada,txtAvaliacao:a.comentario}),(0,f.jsx)(r.Z,{className:"linha-divisao-pagina"})]})})):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{variant:"h4",sx:{marginTop:"50px",marginBottom:"50px"},children:"Voc\xea ainda n\xe3o possui avalia\xe7\xf5es"}),(0,f.jsx)(r.Z,{className:"linha-divisao-pagina"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{variant:"h5",sx:{marginTop:"50px",marginBottom:"50px"},children:"Carregando Avalia\xe7\xf5es"}),(0,f.jsx)(l.Z,{style:{color:"#16B364"}})]})})]})})})})}},1659:function(a,e,o){o.d(e,{db:function(){return i},t:function(){return r}});var n=o(3897),t=(o(2806),o(5778),n.Z.initializeApp({apiKey:"AIzaSyBlrwBDwFdwkutdVO2Ilg6KUPnFFwKWD2k",authDomain:"chat-harmonyo.firebaseapp.com",projectId:"chat-harmonyo",storageBucket:"chat-harmonyo.appspot.com",messagingSenderId:"295019787606",appId:"1:295019787606:web:eb01ac75f11c05b72d92f7",measurementId:"G-2K9ZW7N0C1"})),i=t.firestore(),r=t.storage("gs://chat-harmonyo.appspot.com/")}}]);
//# sourceMappingURL=67.99c70c70.chunk.js.map