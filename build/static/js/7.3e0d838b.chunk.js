"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[7,870],{1687:function(a,e,n){var t=n(1243).Z.create({baseURL:"http://".concat("44.218.142.250",":8080")});e.Z=t},3345:function(a,e,n){var t=n(9439),o=n(3044),r=n(2791),i=n(1659),c=n(184);function s(a,e){var n=a.id,s=a.nome,l=(0,r.useState)(""),u=(0,t.Z)(l,2),d=u[0],f=u[1],m=(0,r.useState)(!1),h=(0,t.Z)(m,2),p=(h[0],h[1]),v=(0,r.useState)(!1),g=(0,t.Z)(v,2),x=g[0],Z=g[1];(0,r.useImperativeHandle)(e,(function(){return{getImgPerfilURL:function(){return d}}}),[d]);var b=function(a){var e="/imgs-perfil-usuario/".concat(a,"_ft_perfil");i.t.ref(e).getDownloadURL().then((function(a){f(a),p(!0)})).catch((function(){Z(!0)}))};(0,r.useEffect)((function(){a.naoCarregar&&(a.imgUrl?f(a.imgUrl):b(n))}),[]),(0,r.useEffect)((function(){a.imgUrl?(f(a.imgUrl),Z(!1)):b(n)}),[a.recarregarImg]);var j=x?"#099250":"#eeeeee",N=a.sx?a.sx:{};return N.bgcolor=j,x?(0,c.jsx)(o.Z,{className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:N,children:x?s.charAt(0):""}):(0,c.jsx)(o.Z,{src:x?null:d,className:a.className,onClick:a.onClick,"aria-controls":a.ariaControls,"aria-haspopup":a.ariaHaspopup,"aria-expanded":a.ariaExpanded,sx:N,children:x?s.charAt(0):""})}e.Z=(0,r.forwardRef)(s)},9084:function(a,e,n){n.d(e,{Z:function(){return r}});n(2791);var t=n(4554),o=n(184);var r=function(a){return(0,o.jsx)(t.Z,{className:"card ".concat(a.className),sx:a.sx,id:a.id,onClick:a.onClick,children:a.children})}},4056:function(a,e,n){n.d(e,{Z:function(){return G}});var t=n(9439),o=n(2791),r=n(4554),i=n(6151),c=n(9284),s=n(9310),l=n(2125),u=n(6630),d=n(9230),f=n(3709),m=n(13),h=n(2167),p=n(297),v=n(533),g=n(890),x=n(184);var Z=function(a){return(0,x.jsx)(v.Z,{className:"navbar-lateral-card-container",href:a.href,underline:"none",children:(0,x.jsxs)(r.Z,{className:"navbar-lateral-card ".concat(a.active?"active":"not-active"),children:[a.hover?(0,x.jsx)(a.icon,{className:"navbar-lateral-card-img-hover"}):(0,x.jsx)(a.icon,{className:"navbar-lateral-card-img"}),a.hover?(0,x.jsx)(g.Z,{className:"navbar-lateral-card-texto",children:a.titulo}):""]})})},b=n(1687);var j=function(a){var e=o.useState(!1),n=(0,t.Z)(e,2),v=n[0],g=n[1],b=sessionStorage.getItem("CATEGORIA").toLocaleLowerCase(),j={professor:[{titulo:"Dashboard",icon:s.Z,active:"dashboard"===a.tela,href:"/dashboard-professor"},{titulo:"Agenda",icon:l.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:u.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:d.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Aulas",icon:f.Z,active:"aulas"===a.tela,href:"/aulas"},{titulo:"Feedbacks",icon:m.Z,active:"feedbacks"===a.tela,href:"/feedbacks"}],aluno:[{titulo:"Encontrar",icon:h.Z,active:"encontrar"===a.tela,href:"/encontrar-professor"},{titulo:"Agenda",icon:l.Z,active:"agenda"===a.tela,href:"/agenda"},{titulo:"Pedidos",icon:u.Z,active:"pedidos"===a.tela,href:"/pedidos"},{titulo:"Chat",icon:d.Z,active:"chat"===a.tela,href:"/chat"},{titulo:"Feedbacks",icon:m.Z,active:"feedbacks"===a.tela,href:"/feedbacks"}],administrador:[{titulo:"Dashboard",icon:s.Z,active:"dashboard"===a.tela,href:"/dashboard-administrador"}]};return(0,x.jsx)(r.Z,{className:"navbar-lateral-background",children:(0,x.jsxs)(r.Z,{className:"navbar-lateral",onMouseEnter:function(){return setTimeout((function(){return g(!0)}),50)},onMouseLeave:function(){return setTimeout((function(){return g(!1)}),150)},children:[(0,x.jsxs)("a",{href:"/",className:"navbar-lateral-logo-container",children:[(0,x.jsx)(c.Z,{icon:!0,white:!0,height:"40px",className:"navbar-lateral-logo ".concat(v?"hidden":"")}),(0,x.jsx)(c.Z,{white:!0,width:"200px",className:"navbar-lateral-logo ".concat(v?"":"hidden")})]}),(0,x.jsxs)(r.Z,{className:"navbar-lateral-cards",children:[j[b].map((function(a){return(0,x.jsx)(Z,{href:a.href,titulo:a.titulo,icon:a.icon,active:a.active,hover:v},"opcao-navbar-".concat(a.titulo))})),"administrador"===b?(0,x.jsxs)(i.Z,{onClick:function(){fetch("http://localhost:8080/professores/download-csv",{method:"GET",responseType:"blob",headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){return a.blob()})).then((function(a){var e=window.URL.createObjectURL(a),n=document.createElement("a");n.href=e,n.download="data.csv",n.click(),window.URL.revokeObjectURL(e)})).catch((function(a){console.error("Erro:",a)}))},color:"primary",className:"button-export",children:[" ",(0,x.jsx)(p.Z,{className:"export-logo "})," ",(0,x.jsx)("h4",{className:"export-logo ".concat(v?"":"hidden"),children:" Exporta\xe7\xe3o dados prof."})," "]}):""]})]})})},N=n(2),C=n(3021),I=n(3786),k=n.p+"static/media/business-proposal.0fb9562397d64134bfe0.png",E=n(5117);var S=function(a){return(0,x.jsx)(E.Z,{id:a.menuId,anchorEl:a.anchorEl,open:a.open,onClose:a.handleClose,MenuListProps:{"aria-labelledby":a.buttonClassName},children:a.children})},w=n(2426),T=n.n(w),y=(n(827),function(a,e){return b.Z.put(a,e,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})});var A=function(a){var e=sessionStorage.getItem("ID"),n=(0,o.useState)(0),i=(0,t.Z)(n,2),c=i[0],s=i[1],l=(0,o.useState)([]),u=(0,t.Z)(l,2),d=u[0],f=u[1],m=(0,o.useState)(0),h=(0,t.Z)(m,2),p=h[0],v=h[1],Z=(0,o.useState)(null),j=(0,t.Z)(Z,2),E=j[0],w=j[1],A=!!E,D=function(){var a;(a="/notificacoes/usuario/".concat(sessionStorage.ID),b.Z.get(a,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})).then((function(a){var e=a.data,n=e.content;console.log("Recebi a notificacao: "),console.log(n),204!==a.status?(n.forEach((function(a){a.tempo=T()(a.data).fromNow(),a.src=k})),s(e.totalPages),f(n),v(n.filter((function(a){return!a.lida})).length)):f([])})).catch((function(a){console.log(a)}))};return(0,o.useEffect)((function(){D()}),[]),(0,x.jsxs)("div",{children:[(0,x.jsx)(C.Z,{id:"notificacao-botao",className:"container-usuario-notificacao",color:"primary",badgeContent:p,"aria-controls":A?"notificacao-menu":void 0,"aria-haspopup":"true","aria-expanded":A?"true":void 0,onClick:function(a){w(a.currentTarget)},children:(0,x.jsx)(N.Z,{})}),(0,x.jsxs)(S,{menuId:"notificacao-menu",buttonClassName:"notificacao-botao",anchorEl:E,open:A,handleClose:function(){w(null)},className:"notificacao-card",children:[(0,x.jsxs)(r.Z,{className:"notificacao-menu-container-title",children:[(0,x.jsx)(g.Z,{className:"notificacao-menu-title",children:"Notifica\xe7\xf5es"}),p>0?(0,x.jsx)(g.Z,{className:"notificacao-menu-lido",onClick:function(){y("/notificacoes/lida-usuario/".concat(e),{}).then((function(a){200===a.status&&(d.forEach((function(a){a.lida=!0})),f(d),v(0))})).catch((function(a){console.log(a)}))},children:"Marcar como visto"}):""]}),d.map((function(a){return(0,x.jsxs)(I.Z,{className:"notificacao-menu-item",onClick:function(){var e;e=a.id,y("/notificacoes/lida/".concat(e),{}).then((function(a){200===a.status&&(alert("Lendo a notificacao com id: "+e),d.forEach((function(a){a.id===e&&(a.lida=!0)})),f(d),p>0&&v(p-1))})).catch((function(a){console.log(a)}))},sx:{backgroundColor:a.lido?"var(--notificacao-nao-lida)":"var(--notificacao-lida)"},children:[(0,x.jsxs)(r.Z,{className:"notificacao-menu-item-info-container",children:[(0,x.jsx)("img",{src:a.src,className:"notificacao-menu-item-img",alt:""}),(0,x.jsx)(g.Z,{className:"notificacao-menu-item-titulo",children:a.titulo})]}),(0,x.jsx)(r.Z,{className:"notificacao-menu-item-container-tempo",children:(0,x.jsx)(g.Z,{className:"notificacao-menu-item-tempo",children:a.tempo})})]},a.id)})),c>1?(0,x.jsx)(r.Z,{sx:{width:"100%",height:"fit-content",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,x.jsx)(g.Z,{className:"notificacao-menu-lido",children:"Mostrar Todos"})}):""]})]})},D=n.p+"static/media/user.05d0404ad8a0ab5bdefa.png",L=n.p+"static/media/logout.0becdbc391b7088ace83.png",U=n(7689),R=n(3345),O=[{id:1,src:D,titulo:"Meu Perfil",url:"/perfil"},{id:3,src:L,titulo:"Sair",url:"/"}],K=sessionStorage.getItem("NOME");var M=function(a){var e=(0,U.s0)(),n=o.useState(null),i=(0,t.Z)(n,2),c=i[0],s=i[1],l=Boolean(c),u=function(a){s(null),e(a.url)};return(0,x.jsxs)("div",{children:[(0,x.jsx)(R.Z,{id:sessionStorage.getItem("ID"),nome:K,className:"avatar-usuario-img",onClick:function(a){s(a.currentTarget)},ariaControls:l?"avatar-usuario-menu":void 0,ariaHaspopup:"true",ariaExpanded:l?"true":void 0,recarregarImg:a.recarregarTodasImgs}),(0,x.jsxs)(S,{menuId:"avatar-usuario-menu",buttonClassName:"avatar-usuario-botao",anchorEl:c,open:l,handleClose:u,children:[(0,x.jsxs)(r.Z,{className:"avatar-usuario-menu-user-info",children:[(0,x.jsx)(R.Z,{id:sessionStorage.getItem("ID"),className:"avatar-usuario-img",nome:K}),(0,x.jsxs)(r.Z,{className:"avatar-usuario-menu-user-info-text",children:[(0,x.jsx)(g.Z,{className:"avatar-usuario-menu-nome",children:K}),(0,x.jsx)(g.Z,{className:"avatar-usuario-menu-email",children:sessionStorage.getItem("EMAIL")})]})]}),(0,x.jsx)(r.Z,{className:"opcoes-container",children:O.map((function(a){return(0,x.jsxs)(I.Z,{className:"avatar-usuario-menu-item",onClick:function(){return u(a)},children:[(0,x.jsx)("img",{src:a.src,className:"avatar-usuario-menu-item-img",alt:""}),(0,x.jsx)(g.Z,{className:"avatar-usuario-menu-item-titulo",children:a.titulo})]},a.id)}))})]})]})};var z=function(a){return(0,x.jsxs)(r.Z,{className:"container-usuario",children:[(0,x.jsx)(A,{}),(0,x.jsx)(M,{recarregarTodasImgs:a.recarregarTodasImgs})]})},P=n(4070),B=n(3400),F=n(3503),H=n(6739);var G=function(a){var e=(0,o.useState)([]),n=(0,t.Z)(e,2),i=n[0],c=n[1],s=a.avisosState,l=(0,o.useState)(!1),u=(0,t.Z)(l,2),d=(u[0],u[1]),f=a.recarregarTodasImgs,m=(0,o.useState)(!1),h=(0,t.Z)(m,2),p=h[0],v=h[1],g=a.carregarPaginaForcado;return(0,o.useEffect)((function(){s&&c(s.avisos)}),[s]),(0,o.useEffect)((function(){f&&d(f)}),[f]),(0,o.useEffect)((function(){v(g||!0)}),[g]),(0,x.jsxs)(r.Z,{className:"mui-root",children:[(0,x.jsx)(r.Z,{className:"erro-container",children:i&&i.map((function(a,e){return function(a,e,n,t){var o;"erro"===a.tipo&&(o=P.Z);return(0,x.jsx)(o,{severity:"error",action:(0,x.jsx)(B.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return e(n.filter((function(a,e){return e!==t})))},children:(0,x.jsx)(H.Z,{fontSize:"inherit"})}),sx:{zIndex:1e3},children:a.mensagem},t)}(a,s.setAvisos,s.avisos,e)}))}),(0,x.jsx)(j,{tela:a.tela}),(0,x.jsxs)(r.Z,{className:"pagina-padrao-container",children:[(0,x.jsx)(z,{recarregarTodasImgs:f}),p?a.children:(0,x.jsx)(F.Z,{})]})]})}},1659:function(a,e,n){n.d(e,{db:function(){return r},t:function(){return i}});var t=n(3897),o=(n(2806),n(5778),t.Z.initializeApp({apiKey:"AIzaSyBlrwBDwFdwkutdVO2Ilg6KUPnFFwKWD2k",authDomain:"chat-harmonyo.firebaseapp.com",projectId:"chat-harmonyo",storageBucket:"chat-harmonyo.appspot.com",messagingSenderId:"295019787606",appId:"1:295019787606:web:eb01ac75f11c05b72d92f7",measurementId:"G-2K9ZW7N0C1"})),r=o.firestore(),i=o.storage("gs://chat-harmonyo.appspot.com/")},2703:function(a,e,n){n.d(e,{Wi:function(){return i},Y8:function(){return c},mA:function(){return s}});var t=n(4165),o=n(5861),r=n(1243);function i(){var a=sessionStorage.TOKEN;return(null===a||""===a||a.length<186)&&(sessionStorage.TOKEN="",!0)}function c(a){var e=(a=a.split("/"))[0],n=a[1],t=a[2];return e<1||e>31?{error:!0,helperText:"Dia inv\xe1lido"}:n<1||n>12?{error:!0,helperText:"M\xeas inv\xe1lido"}:t<1900||t>(new Date).getFullYear()?{error:!0,helperText:"Ano inv\xe1lido"}:new Date(t,n-1,e)>new Date?{error:!0,helperText:"Data de Nascimento inv\xe1lida"}:{error:!1}}function s(a){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,t.Z)().mark((function a(e){var n;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={},a.next=3,r.Z.get("https://viacep.com.br/ws/".concat(e,"/json/")).then((function(a){n=a.data.erro?null:a.data})).catch((function(a){console.log(a)}));case 3:return console.log("Resposta:"),console.log(n),a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=7.3e0d838b.chunk.js.map