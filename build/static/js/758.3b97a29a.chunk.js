"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[758],{9856:function(a,e,s){s.r(e),s.d(e,{default:function(){return E}});var t=s(1413),n=s(9439),o=s(2791),r=s(5228),i=s(3896),l=s(4554),c=(s.p,s(4056)),d=s(9084),u=s(3239),h=s(890),m=s(1687),x=s(184);var Z=function(a){var e=(0,o.useState)("0,00"),s=(0,n.Z)(e,2),t=s[0],r=s[1],i=(0,o.useState)(!0),l=(0,n.Z)(i,2),c=l[0],Z=l[1],p={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}};return(0,o.useEffect)((function(){"Rendimento total"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":"ano-atual";var s="/professores/dashboard/".concat(e,"/rendimento/")+sessionStorage.ID;m.Z.get(s,p).then((function(a){console.log(s),Z(!1),r("R$ "+a.data)}))}()):"Quantidade de alunos"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":"ano-atual";var s="/professores/dashboard/".concat(e,"/qtd-alunos/")+sessionStorage.ID;m.Z.get(s,p).then((function(a){Z(!1),r(a.data)}))}()):"Quantidade de aulas"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":"ano-atual";var s="/professores/dashboard/".concat(e,"/qtd-aulas/")+sessionStorage.ID;m.Z.get(s,p).then((function(a){Z(!1),r(a.data)}))}()):"Tempo de resposta"===a.titulo&&r(function(){var e="";e=0===a.periodo?"mes-atual":"ano-atual";var s="/professores/dashboard/".concat(e,"/media-tempo-resposta/")+sessionStorage.ID;m.Z.get(s,p).then((function(a){if(0===a.data)return r("Sem dados"),void Z(!1);var e=a.data,s=Math.floor(e/60),t=(e=e%60,Math.floor(s/24)),n="";t>0&&(n+=1==t?t+" dia ":t+" dias "),(s=s%24)>0&&(n+=1==s?s+" hora ":s+" horas "),e>0&&(n+=1==e?e+" minuto ":e+" minutos "),Z(!1),r(n)}))}())}),[a.periodo]),c?(0,x.jsx)(d.Z,{className:"kpi-item",children:(0,x.jsx)(u.Z,{style:{color:"#16B364"}})}):(0,x.jsxs)(d.Z,{className:"kpi-item",children:[(0,x.jsx)(h.Z,{className:"kpi-titulo",children:a.titulo}),(0,x.jsx)(h.Z,{className:"kpi-valor",children:t})]})},p=s(9281),j=s(9836),f=s(6890),g=s(5855),b=s(3994),v=s(3382),N=s(68);var S=function(a){return(0,x.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,x.jsx)(b.Z,{component:"th",scope:"row",align:"center",children:(0,x.jsx)(N.Z,{title:a.item.nomeInstrumento,placement:"right",children:(0,x.jsx)(h.Z,{children:a.item.nomeInstrumento})})}),(0,x.jsx)(b.Z,{align:"center",children:(0,x.jsx)(h.Z,{variant:"subtitle1",children:a.item.quantidadeAulas})}),(0,x.jsx)(b.Z,{align:"center",children:(0,x.jsxs)(h.Z,{variant:"subtitle1",children:["R$ ",a.item.rendimentoTotal]})})]},a.item.idInstrumento)};var k=function(a){var e=(0,o.useState)(!0),s=(0,n.Z)(e,2),t=s[0],r=s[1],i={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},c=(0,o.useState)([]),Z=(0,n.Z)(c,2),N=Z[0],k=Z[1];return(0,o.useEffect)((function(){console.log(a.periodo),0===a.periodo?m.Z.get("/professores/dashboard/minhas-aulas-mes/"+sessionStorage.ID,i).then((function(a){console.log(a.data),r(!1),k(a.data)})).catch((function(a){console.log(a)})):m.Z.get("/professores/dashboard/minhas-aulas-ano/"+sessionStorage.ID,i).then((function(a){console.log(a.data),r(!1),k(a.data)})).catch((function(a){console.log(a)}))}),[a.periodo]),(0,x.jsxs)(d.Z,{className:"card-tabela",children:[(0,x.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Minhas aulas"}),(0,x.jsx)(l.Z,{className:"chart-instrumentos-container",children:(0,x.jsx)(p.Z,{sx:{width:"99%",maxHeight:" !important"},children:(0,x.jsxs)(j.Z,{"aria-label":"simple table",children:[(0,x.jsx)(f.Z,{children:(0,x.jsxs)(g.Z,{children:[(0,x.jsx)(b.Z,{align:"center",children:"Instrumento"}),(0,x.jsx)(b.Z,{align:"center",children:"Quantidade Aulas"}),(0,x.jsx)(b.Z,{align:"center",children:"Rendimento total"})]})}),(0,x.jsx)(v.Z,{children:t||0!==N.length?t?(0,x.jsx)(u.Z,{style:{color:"#16B364"}}):N?N.map((function(a){return(0,x.jsx)(S,{item:a})})):(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(g.Z,{children:(0,x.jsx)(b.Z,{align:"center",colSpan:3,children:"Nenhuma aula encontrada"})})})]})})})]})},C=s(3623),D=s(5967);D.kL.register(D.De,D.Dx,D.uw,D.f$,D.ZL,D.u,D.qi);var A=function(){var a=(0,o.useState)(0),e=(0,n.Z)(a,2),s=e[0],t=e[1],r=(0,o.useState)(0),i=(0,n.Z)(r,2),c=i[0],Z=i[1],p=(0,o.useState)(0),j=(0,n.Z)(p,2),f=j[0],g=j[1],b=(0,o.useState)(!0),v=(0,n.Z)(b,2),N=v[0],S=v[1];(0,o.useEffect)((function(){m.Z.get("/professores/dashboard/grafico/aulas-realizadas-mes-atual/"+sessionStorage.ID,k).then((function(a){Z(a.data.aulasRealizadas),t(a.data.aulasCanceladas),g(a.data.aulasRecusadas),S(!1)}))}),[]);var k={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},D={labels:["Canceladas","Realizadas","Recusadas"],datasets:[{label:"Quantidade de aulas",data:[s,c,f],backgroundColor:["#DF3939","#39DF73","#0263FF"],cutout:"80%",hoverOffset:4}]};return N?(0,x.jsxs)(d.Z,{className:"chart-card",children:[(0,x.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,x.jsx)(l.Z,{className:"chart-info-container",children:(0,x.jsx)(l.Z,{className:"chart-container",children:(0,x.jsx)(u.Z,{style:{color:"#16B364"}})})})]}):(console.log(s,c,f),0===s&&0===c&&0===f?(0,x.jsxs)(d.Z,{className:"chart-card",children:[(0,x.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,x.jsx)(l.Z,{className:"chart-info-container",children:(0,x.jsx)(l.Z,{className:"chart-container",children:(0,x.jsx)(h.Z,{variant:"h6",className:"chart-info",children:"Nenhuma aula nesse m\xeas"})})})]}):(0,x.jsxs)(d.Z,{className:"chart-card",children:[(0,x.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,x.jsx)(l.Z,{className:"chart-info-container",children:(0,x.jsx)(C.$I,{options:{responsive:!0,plugins:{legend:{display:!0,position:"right"},title:{display:!1}}},data:D})})]}))};var I=function(){D.kL.register(D.uw,D.f$,D.ZL,D.Dx,D.u,D.De);var a=(0,o.useState)(!0),e=(0,n.Z)(a,2),s=e[0],t=e[1],r=(0,o.useState)([]),i=(0,n.Z)(r,2),l=i[0],c=i[1],u=(0,o.useState)([]),Z=(0,n.Z)(u,2),p=Z[0],j=Z[1],f=(0,o.useState)([]),g=(0,n.Z)(f,2),b=g[0],v=g[1],N=(0,o.useState)([]),S=(0,n.Z)(N,2),k=S[0],A=S[1];(0,o.useEffect)((function(){m.Z.get("/professores/dashboard/dados-aulas-anual/"+sessionStorage.ID,I).then((function(a){var e=[],s=[],n=[],o=[];a.data.map((function(a){e.push(a.mes),s.push(a.aulasCanceladas),o.push(a.aulasConcluidas),n.push(a.aulasRecusadas)})),c(e),j(s),A(o),v(n),t(!1)})).catch((function(a){console.log(a)}))}),[]);var I={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},y={labels:l,datasets:[{label:"Aulas Canceladas",data:p,backgroundColor:"#DF3939"},{label:"Aulas Recusadas",data:b,backgroundColor:"rgb(75, 192, 192)"},{label:"Aulas Conclu\xeddas",data:k,backgroundColor:"rgb(53, 162, 235)"}]};return(0,x.jsxs)(d.Z,{className:"card-tabela",children:[(0,x.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas por m\xeas"}),s?(0,x.jsx)("p",{children:"Carregando..."}):(0,x.jsx)(C.$Q,{options:{plugins:{title:{display:!1,text:"Chart.js Bar Chart - Stacked"},legends:{display:!0},pointStyle:"circle"},responsive:!0,scales:{x:{grid:{display:!1},stacked:!0},y:{stacked:!0}}},data:y})]})},y=s(2703),R=s(7689);var E=function(){var a=o.useState(0),e=(0,n.Z)(a,2),s=e[0],d=e[1];function u(a){return{id:"simple-tab-".concat(a),className:"dashboard-professor-tabs-item","aria-controls":"simple-tabpanel-".concat(a)}}var h=(0,R.s0)();(0,o.useEffect)((function(){(0,y.Wi)()&&h(-1)}),[]);var m="Vis\xe3o Geral - ".concat((new Date).getFullYear());return(0,x.jsxs)(c.Z,{tela:"dashboard",children:[(0,x.jsxs)(r.Z,{value:s,onChange:function(a,e){d(e)},"aria-label":"tabs",className:"dashboard-professor-tabs",children:[(0,x.jsx)(i.Z,(0,t.Z)({label:"Vis\xe3o Mensal",className:"tab_dash"},u(0))),(0,x.jsx)(i.Z,(0,t.Z)({label:m,className:"tab_dash"},u(1)))]}),(0,x.jsx)(l.Z,{className:"pagina-container-dash",children:0===s?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.Z,{className:"kpi-container",children:[(0,x.jsx)(Z,{titulo:"Rendimento total",periodo:s}),(0,x.jsx)(Z,{titulo:"Quantidade de alunos",periodo:s}),(0,x.jsx)(Z,{titulo:"Quantidade de aulas",periodo:s}),(0,x.jsx)(Z,{titulo:"Tempo de resposta",periodo:s})]}),(0,x.jsxs)(l.Z,{className:"charts-container",children:[(0,x.jsx)(A,{}),(0,x.jsx)(k,{periodo:s})]})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.Z,{className:"kpi-container",children:[(0,x.jsx)(Z,{titulo:"Rendimento total"}),(0,x.jsx)(Z,{titulo:"Quantidade de alunos"}),(0,x.jsx)(Z,{titulo:"Quantidade de aulas"}),(0,x.jsx)(Z,{titulo:"Tempo de resposta"})]}),(0,x.jsxs)(l.Z,{className:"charts-container",children:[(0,x.jsx)(I,{}),(0,x.jsx)(k,{periodo:s})]})]})})]})}}}]);
//# sourceMappingURL=758.3b97a29a.chunk.js.map