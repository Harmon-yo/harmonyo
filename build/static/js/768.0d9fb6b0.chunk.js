"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[768],{9084:function(a,e,r){r.d(e,{Z:function(){return n}});r(2791);var o=r(4554),s=r(184);var n=function(a){return(0,s.jsx)(o.Z,{className:"card ".concat(a.className),sx:a.sx,id:a.id,onClick:a.onClick,children:a.children})}},5930:function(a,e,r){r.r(e),r.d(e,{default:function(){return K}});var o=r(4942),s=r(1413),n=r(3433),i=r(9439),c=r(2791),t=r(7689),l=r(4554),d=r(4056),m=r(3239),u=r(890),f=r(9084),x=r(68),p=r(3345),h=r(7130),Z=r(7267),v=r(184);var g=function(a){return(0,v.jsxs)(l.Z,{className:"professor-popular-card",onClick:a.onClick,children:[(0,v.jsxs)(l.Z,{className:"card-info-usuario",children:[(0,v.jsx)(p.Z,{id:a.id,nome:a.nome,className:"avatar-usuario-img"}),(0,v.jsx)(l.Z,{className:"card-nome-container",children:(0,v.jsx)(x.Z,{title:a.nome,placement:"right",children:(0,v.jsx)(u.Z,{className:"card-info-nome",noWrap:!0,children:a.nome})})})]}),(0,v.jsxs)(l.Z,{className:"card-info-avaliacao",children:[(0,v.jsx)(h.Z,{className:"card-avaliacao-icon"}),(0,v.jsx)(u.Z,{className:"card-avaliacao-valor",children:a.avaliacao}),(0,v.jsx)(Z.Z,{className:"card-info-separacao"}),(0,v.jsx)(l.Z,{className:"card-cidade-container",children:(0,v.jsx)(x.Z,{title:a.localizacao,placement:"right",children:(0,v.jsx)(u.Z,{className:"card-cidade",variant:"subtitle2",noWrap:!0,children:a.localizacao})})})]})]},"popular-".concat(a.id))};var j=function(a){return(0,v.jsxs)(l.Z,{className:"professores-populares-container",children:[(0,v.jsx)(l.Z,{className:"professor-populares-container-titulo",children:(0,v.jsx)(u.Z,{className:"encontrar-professor-titulo",children:"Popular"})}),a.isCarregando?(0,v.jsx)(m.Z,{color:"success"}):(0,v.jsx)(f.Z,{className:"professores-populares-card",children:a.professores.map((function(e,r){return(0,v.jsx)(g,{id:e.id,nome:e.nome,instrumentos:e.instrumentos,localizacao:e.localizacao,avaliacao:e.mediaAvaliacao,onClick:function(){return a.onClick(e)}},r)}))})]})},N=r(8316),b=r(1588);var C=function(a){return(0,v.jsxs)(f.Z,{className:"professor-card",onClick:a.onClick,children:[(0,v.jsx)(l.Z,{className:"professor-card-primeira-parte",children:(0,v.jsx)(p.Z,{id:a.id,nome:a.nome})}),(0,v.jsxs)(l.Z,{className:"professor-card-segunda-parte",children:[(0,v.jsx)(u.Z,{variant:"h5",className:"professor-nome-texto",children:a.nome}),(0,v.jsxs)(l.Z,{className:"professor-informacoes-adicionais-container",children:[(0,v.jsx)(u.Z,{className:"professor-informacoes-adicionais-texto",children:"".concat(a.idade," anos")}),"-",(0,v.jsx)(u.Z,{className:"professor-informacoes-adicionais-texto",children:"".concat(a.bairro)}),"-",(0,v.jsx)(u.Z,{className:"professor-informacoes-adicionais-texto",children:"".concat(a.cidade)}),"-",(0,v.jsx)(u.Z,{className:"professor-informacoes-adicionais-texto",children:"".concat(a.distancia," Km")}),"-",(0,v.jsx)(u.Z,{className:"professor-preco-texto",children:"R$ ".concat(a.precoMinimo,"~R$").concat(a.precoMaximo)})]}),(0,v.jsxs)(l.Z,{className:"professor-avaliacao-localizacao-container",children:[(0,v.jsx)(N.Z,{name:"half-rating-read",defaultValue:a.avaliacao,precision:.5,readOnly:!0}),(0,v.jsx)(u.Z,{variant:"subtitle1",className:"professores-avaliacao-texto",children:a.avaliacao}),(0,v.jsxs)(l.Z,{className:"professor-localizacao",children:[(0,v.jsx)(b.Z,{className:"professor-localizacao-texto"}),(0,v.jsx)(u.Z,{variant:"subtitle1",className:"professor-localizacao-texto",children:"".concat(a.cidade," - ").concat(a.estado)})]})]}),(0,v.jsx)(l.Z,{className:"professor-instrumentos-container",children:a.instrumentos.map((function(a,e){return(0,v.jsx)(f.Z,{className:"professor-instrumentos-card",children:(0,v.jsx)(u.Z,{variant:"subtitle1",className:"professor-instrumentos-card-texto",children:a.nome})},e)}))})]})]},"resumido-".concat(a.id))};var P=function(a){return(0,v.jsxs)(l.Z,{children:[(0,v.jsx)(l.Z,{children:(0,v.jsx)(u.Z,{className:"encontrar-professor-titulo",children:"Professores"})}),a.isCarregando?(0,v.jsx)(m.Z,{color:"success"}):(0,v.jsx)(f.Z,{className:"professores-cards",children:a.professores.map((function(e,r){return(0,v.jsx)(C,{onClick:function(){return a.onClick(e)},id:e.id,nome:e.nome,instrumentos:e.instrumentos,idade:e.idade,bairro:e.bairro,distancia:e.distancia,precoMinimo:e.valorMinimo,precoMaximo:e.valorMaximo,descricao:e.descricao,avaliacao:e.mediaAvaliacao,cidade:e.cidade,estado:e.estado},r)}))})]})},k=r(5332),A=r(9709);var S=function(a){var e=(0,c.useState)({minimo:0,maximo:0,valor:[0,0]}),r=(0,i.Z)(e,2),o=r[0],n=r[1],t=a.adicionarCarregamento,d=a.adicionarParametro,m=(0,c.useState)({minimo:0,maximo:0,valor:[0,0]}),x=(0,i.Z)(m,2),p=x[0],h=x[1],Z=(0,c.useState)(5),g=(0,i.Z)(Z,2),j=g[0],b=g[1];return(0,c.useEffect)((function(){a.requisicaoGet("/usuarios/filtro-minimo-maximo").then((function(a){var e=a.data.precoMinimo,r=a.data.precoMaximo,o=a.data.distanciaMinima,s=a.data.distanciaMaxima;n({minimo:e,maximo:r,valor:[e,r]}),h({minimo:o,maximo:s,valor:[o,s]}),d("preco",[e,r],"><"),d("distancia",[o,s],"><"),t(!0)})).catch((function(){a.exibirAviso({mensagem:"Erro ao carregar valores do filtro.",tipo:"erro"}),t(!1)}))}),[]),(0,v.jsxs)(f.Z,{className:"filtro-card",children:[(0,v.jsx)(l.Z,{className:"filtro-card-titulo",children:(0,v.jsx)(u.Z,{className:"encontrar-professor-titulo",sx:{marginBottom:"0 !important"},children:"Filtro"})}),(0,v.jsxs)(l.Z,{className:"filtro-slider-container",children:[(0,v.jsx)(u.Z,{className:"filtro-titulo",children:"Pre\xe7o"}),(0,v.jsxs)(l.Z,{className:"filtro-slider-container",children:[(0,v.jsx)(k.ZP,{size:"small",getAriaLabel:function(){return"Pre\xe7o m\xednimo"},value:o.valor,onChange:function(a,e,r){!Array.isArray(e)||0===o.minimo&&0===o.maximo||n(0===r?function(a){return(0,s.Z)((0,s.Z)({},a),{},{valor:[Math.min(e[0],o.valor[1]-1),o.valor[1]]})}:function(a){return(0,s.Z)((0,s.Z)({},a),{},{valor:[o.valor[0],Math.max(e[1],o.valor[0]+1)]})})},valueLabelDisplay:"auto",getAriaValueText:function(a){return"R$ ".concat(a)},disableSwap:!0,min:o.minimo,max:o.maximo,sx:{color:"black",marginBottom:"4px"}}),(0,v.jsxs)(l.Z,{className:"filtro-slider-min-max-container",children:[(0,v.jsxs)(u.Z,{className:"filtro-slider-minimo",variant:"subtitle2",children:["R$ ",o.minimo]}),(0,v.jsxs)(u.Z,{className:"filtro-slider-maximo",variant:"subtitle2",children:["R$ ",o.maximo]})]})]})]}),(0,v.jsxs)(l.Z,{className:"filtro-avaliacao-container",children:[(0,v.jsx)(u.Z,{className:"filtro-titulo",children:"Avalia\xe7\xe3o"}),(0,v.jsxs)(l.Z,{className:"filtro-avaliacao-rating-container",children:[(0,v.jsx)(u.Z,{className:"filtro-avaliacao-texto",children:j}),(0,v.jsx)(N.Z,{name:"half-rating",value:j,defaultValue:5,precision:.5,onChange:function(a,e){b(e)}})]})]}),(0,v.jsxs)(l.Z,{className:"filtro-slider-container",children:[(0,v.jsx)(u.Z,{className:"filtro-titulo",children:"Dist\xe2ncia"}),(0,v.jsxs)(l.Z,{className:"filtro-slider-container",children:[(0,v.jsx)(k.ZP,{size:"small",getAriaLabel:function(){return"Dist\xe2ncia m\xednima"},value:p.valor,onChange:function(a,e,r){!Array.isArray(e)||0===p.minimo&&0===p.maximo||h(0===r?function(a){return(0,s.Z)((0,s.Z)({},a),{},{valor:[Math.min(e[0],p.valor[1]-1),p.valor[1]]})}:function(a){return(0,s.Z)((0,s.Z)({},a),{},{valor:[p.valor[0],Math.max(e[1],p.valor[0]+1)]})})},valueLabelDisplay:"auto",getAriaValueText:function(a){return"".concat(a," Km")},disableSwap:!0,min:p.minimo,max:p.maximo,sx:{color:"black",marginBottom:"4px"}}),(0,v.jsxs)(l.Z,{className:"filtro-slider-min-max-container",children:[(0,v.jsxs)(u.Z,{className:"filtro-slider-minimo",variant:"subtitle2",children:[p.minimo," Km"]}),(0,v.jsxs)(u.Z,{className:"filtro-slider-maximo",variant:"subtitle2",children:[p.maximo," Km"]})]})]})]}),(0,v.jsx)(A.Z,{loading:a.isCarregando,onClick:function(){d("preco",o.valor,"><"),d("distancia",p.valor,"><"),d("avaliacao",j,">:")},className:"filtro-botao",children:(0,v.jsx)(u.Z,{className:"loading-text",children:"Filtrar"})})]})},y=r(5403),M=r(8096),D=r(8406),E=r(3786),z=r(3006),q=r(3466);var w=function(a){var e=c.useState(""),r=(0,i.Z)(e,2),o=r[0],s=r[1],n=c.useState([]),t=(0,i.Z)(n,2),d=t[0],m=t[1],p=a.setProfessoresFiltrados,h=a.adicionarParametro,Z=c.useState(""),g=(0,i.Z)(Z,2),j=g[0],N=g[1];return(0,c.useEffect)((function(){a.requisicaoGet("/enderecos/cidades").then((function(e){var r=e.data;r.length>0?(m(r),s(r[0]),h("cidade",r[0],":"),a.adicionarCarregamento(!0)):0===r.length&&(s("?"),a.adicionarCarregamento(!1))})).catch((function(){a.exibirAviso({mensagem:"Erro ao carregar cidades cadastradas.",tipo:"erro"}),a.adicionarCarregamento(!1)}))}),[]),(0,v.jsxs)(f.Z,{className:"professores-busca-card",children:[(0,v.jsxs)(l.Z,{className:"professores-busca-lugar",children:[(0,v.jsx)(b.Z,{}),(0,v.jsx)(M.Z,{sx:{width:"70%"},children:(0,v.jsx)(D.Z,{labelId:"demo-simple-select-label",id:"select-cidade",value:o,renderValue:function(a){return(0,v.jsx)(x.Z,{title:a,placement:"right",children:(0,v.jsx)(u.Z,{className:"professores-busca-lugar-nome",children:a.length>13?a.substring(0,13)+"...":a})})},label:"",onChange:function(a){s(a.target.value),h("cidade",a.target.value,":")},SelectProps:{IconComponent:function(){return null}},sx:{"& .MuiSelect-select":{padding:0,display:"flex",alignItems:"center",fontWeight:"700 !important"}},children:d.map((function(a){return(0,v.jsx)(E.Z,{value:a,children:a})}))})})]}),(0,v.jsx)(l.Z,{className:"professores-busca-campo",children:(0,v.jsx)(z.Z,{className:"busca-campo-input",value:j,onKeyUp:function(e){if(e.preventDefault(),"Enter"===e.key&&""!==j){var r=j.replace("*","").replace("~",""),s="nome~*".concat(r,"*,instrumentos~*").concat(r,"*,cidade:").concat(o);a.requisicaoGet("/professores/busca?params=".concat(s)).then((function(a){200===a.status?(console.log("Professores encontrados: "+a.data.length),console.log(a.data),p(a.data)):(console.log("Nenhum professor encontrado."),p([]))}))}},onChange:function(a){a.preventDefault(),N(a.target.value)},placeholder:"Buscar",InputProps:{endAdornment:(0,v.jsx)(q.Z,{children:(0,v.jsx)(y.Z,{})}),readOnly:a.isCarregando}})})]})},O=r(1687),T=r(2703);var K=function(a){var e=(0,c.useState)([]),r=(0,i.Z)(e,2),m=r[0],u=r[1],f=(0,c.useState)({}),x=(0,i.Z)(f,2),p=x[0],h=x[1],Z=Object.keys(p).length>1?function(a){var e,r,o,s="";console.log("Iniciando Filtragem dos parametros..."),console.log("Valores para serem filtrados: "),console.log(a);var n=Object.keys(a);for(var i in a)if(e=a[i].valor,r=a[i].operacao,"disponibilidade"!==i){if(Array.isArray(e)){s+="".concat(i).concat(r).concat(e[0]),o=a[i].orPredicate?";":"-";for(var c=1;c<e.length;c++)s+="".concat(o).concat(e[c])}else s+="".concat(i).concat(r).concat(e);n.indexOf(i)<n.length-1&&(s+=",")}return console.log("Filtragem dos parametros finalizada! Novo valor: "+s),s}(p):"",g=(0,c.useState)([]),N=(0,i.Z)(g,2),b=N[0],C=N[1],k=(0,c.useState)([]),A=(0,i.Z)(k,2),y=A[0],M=A[1],D=(0,c.useState)([]),E=(0,i.Z)(D,2),z=E[0],q=E[1],K=!z.every((function(a){return!0===a})),F=(0,c.useState)(!1),I=(0,i.Z)(F,2),R=I[0],V=I[1],B=function(a){q((function(e){return[].concat((0,n.Z)(e),[a])}))},G=function(a,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object.keys(p).includes(a),h((function(i){return(0,s.Z)((0,s.Z)({},i),{},(0,o.Z)({},a,{valor:e,operacao:r,orPredicate:n}))}))},W=(0,t.s0)(),$=function(a){return O.Z.get(a,{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}})},L=function(a){console.log("Aviso adicionado"),u((function(e){return[].concat((0,n.Z)(e),[a])}))};(0,c.useEffect)((function(){(0,T.Wi)()&&W(-1)}),[]),(0,c.useEffect)((function(){0!==Z.length&&null!==Z&&(console.log("Pesquisando professores..."),Y())}),[Z]);var Y=function(){M([]),C([]),Promise.all([$("/professores/busca".concat(Z?"?params=".concat(Z):"")),$("/professores/populares")]).then((function(a){console.log("Responses Professores Data:"),console.log(a[0].data),console.log("Professores Populares Data:"),console.log(a[1].data);var e=a[0].data,r=a[1].data;null==e?L({mensagem:"Erro ao carregar professores filtrados.",tipo:"erro"}):null==r?L({mensagem:"Erro ao carregar professores populares.",tipo:"erro"}):(204===a[0].status?(L({mensagem:"Nenhum professor encontrado.",tipo:"erro"}),M([])):M(e),204===a[1].status?(L({mensagem:"Nenhum professor encontrado.",tipo:"erro"}),C([])):C(r))})).catch((function(a){console.log(a),L({mensagem:"Erro ao carregar professores.",tipo:"erro"})}))},U=function(a){W("/exibicao-perfil?id=".concat(a.id))};return(0,v.jsx)(d.Z,{tela:"encontrar",avisosState:{avisos:m,setAvisos:u},children:(0,v.jsxs)(l.Z,{className:"pagina-container",children:[(0,v.jsx)(S,{isCarregando:K,requisicaoGet:$,iniciarPesquisaState:{iniciarPesquisa:R,setIniciarPesquisa:V},adicionarCarregamento:B,adicionarParametro:G,exibirAviso:L}),(0,v.jsxs)(l.Z,{className:"encontrar-professor-conteudo",children:[(0,v.jsx)(w,{requisicaoGet:$,isCarregando:K,iniciarPesquisaState:{setIniciarPesquisa:V},adicionarCarregamento:B,adicionarParametro:G,exibirAviso:L,setProfessoresFiltrados:M}),(0,v.jsx)(j,{professores:b,isCarregando:K,onClick:U}),(0,v.jsx)(P,{professores:y,isCarregando:K,onClick:U})]})]})})}},2703:function(a,e,r){r.d(e,{Wi:function(){return i},Y8:function(){return c},mA:function(){return t}});var o=r(4165),s=r(5861),n=r(1243);function i(){var a=sessionStorage.TOKEN;return(null===a||""===a||a.length<186)&&(sessionStorage.TOKEN="",!0)}function c(a){var e=(a=a.split("/"))[0],r=a[1],o=a[2];return e<1||e>31?{error:!0,helperText:"Dia inv\xe1lido"}:r<1||r>12?{error:!0,helperText:"M\xeas inv\xe1lido"}:o<1900||o>(new Date).getFullYear()?{error:!0,helperText:"Ano inv\xe1lido"}:new Date(o,r-1,e)>new Date?{error:!0,helperText:"Data de Nascimento inv\xe1lida"}:{error:!1}}function t(a){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)((0,o.Z)().mark((function a(e){var r;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={},a.next=3,n.Z.get("https://viacep.com.br/ws/".concat(e,"/json/")).then((function(a){r=a.data.erro?null:a.data})).catch((function(a){console.log(a)}));case 3:return console.log("Resposta:"),console.log(r),a.abrupt("return",r);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=768.0d9fb6b0.chunk.js.map