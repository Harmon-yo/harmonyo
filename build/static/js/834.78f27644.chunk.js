"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[834],{9084:function(a,e,s){s.d(e,{Z:function(){return o}});s(2791);var t=s(4554),n=s(184);var o=function(a){return(0,n.jsx)(t.Z,{className:"card ".concat(a.className),sx:a.sx,id:a.id,onClick:a.onClick,children:a.children})}},5135:function(a,e,s){s.r(e),s.d(e,{default:function(){return R}});var t=s(1413),n=s(9439),o=s(2791),r=s(5228),i=s(3896),l=s(4554),c=s(4056),d=s(9084),u=s(3239),h=s(890),m=s(1687),p=s(184);var x=function(a){var e=(0,o.useState)("0,00"),s=(0,n.Z)(e,2),t=s[0],r=s[1],i=(0,o.useState)(!0),l=(0,n.Z)(i,2),c=l[0],x=l[1],f={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}};return(0,o.useEffect)((function(){"Rendimento total"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":1===a.periodo?"ano-atual":"total";var s="/professores/dashboard/".concat(e,"/rendimento/")+sessionStorage.ID;m.Z.get(s,f).then((function(a){console.log(s),x(!1),r("R$ "+a.data)}))}()):"Quantidade de alunos"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":1===a.periodo?"ano-atual":"total";var s="/professores/dashboard/".concat(e,"/qtd-alunos/")+sessionStorage.ID;m.Z.get(s,f).then((function(a){x(!1),r(a.data)}))}()):"Quantidade de aulas"===a.titulo?r(function(){var e="";e=0===a.periodo?"mes-atual":1===a.periodo?"ano-atual":"total";var s="/professores/dashboard/".concat(e,"/qtd-aulas/")+sessionStorage.ID;m.Z.get(s,f).then((function(a){x(!1),r(a.data)}))}()):"Tempo de resposta"===a.titulo&&r(function(){var e="";e=0===a.periodo?"mes-atual":1===a.periodo?"ano-atual":"total";var s="/professores/dashboard/".concat(e,"/media-tempo-resposta/")+sessionStorage.ID;m.Z.get(s,f).then((function(a){if(0===a.data)return r("Sem dados"),void x(!1);var e=a.data,s=Math.floor(e/60),t=(e=e%60,Math.floor(s/24)),n="";t>0&&(n+=1==t?t+" dia ":t+" dias "),(s=s%24)>0&&(n+=1==s?s+" hora ":s+" horas "),e>0&&(n+=1==e?e+" minuto ":e+" minutos "),x(!1),r(n)}))}())}),[a.periodo]),c?(0,p.jsx)(d.Z,{className:"kpi-item",children:(0,p.jsx)(u.Z,{style:{color:"#16B364"}})}):(0,p.jsxs)(d.Z,{className:"kpi-item",children:[(0,p.jsx)(h.Z,{className:"kpi-titulo",children:a.titulo}),(0,p.jsx)(h.Z,{className:"kpi-valor",children:t})]})},f=s(9281),Z=s(9836),j=s(6890),g=s(5855),v=s(3994),b=s(3382),N=s(68);var S=function(a){return(0,p.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,p.jsx)(v.Z,{component:"th",scope:"row",align:"center",children:(0,p.jsx)(N.Z,{title:a.item.nomeInstrumento,placement:"right",children:(0,p.jsx)(h.Z,{children:a.item.nomeInstrumento})})}),(0,p.jsx)(v.Z,{align:"center",children:(0,p.jsx)(h.Z,{variant:"subtitle1",children:a.item.quantidadeAulas})}),(0,p.jsx)(v.Z,{align:"center",children:(0,p.jsxs)(h.Z,{variant:"subtitle1",children:["R$ ",a.item.rendimentoTotal]})})]},a.item.idInstrumento)};var k=function(a){var e=(0,o.useState)(!0),s=(0,n.Z)(e,2),t=s[0],r=s[1],i={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},c=(0,o.useState)([]),x=(0,n.Z)(c,2),N=x[0],k=x[1];return(0,o.useEffect)((function(){console.log(a.periodo),0===a.periodo?m.Z.get("/professores/dashboard/minhas-aulas-mes/"+sessionStorage.ID,i).then((function(a){console.log(a.data),r(!1),k(a.data)})).catch((function(a){console.log(a)})):1===a.periodo?m.Z.get("/professores/dashboard/minhas-aulas-ano/"+sessionStorage.ID,i).then((function(a){console.log(a.data),r(!1),k(a.data)})).catch((function(a){console.log(a)})):m.Z.get("/professores/dashboard/minhas-aulas-total/"+sessionStorage.ID,i).then((function(a){console.log(a.data),r(!1),k(a.data)})).catch((function(a){console.log(a)}))}),[a.periodo]),(0,p.jsxs)(d.Z,{className:"card-tabela",children:[(0,p.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Minhas aulas"}),(0,p.jsx)(l.Z,{className:"chart-instrumentos-container",children:(0,p.jsx)(f.Z,{sx:{width:"99%",maxHeight:" !important"},children:(0,p.jsxs)(Z.Z,{"aria-label":"simple table",children:[(0,p.jsx)(j.Z,{children:(0,p.jsxs)(g.Z,{children:[(0,p.jsx)(v.Z,{align:"center",children:"Instrumento"}),(0,p.jsx)(v.Z,{align:"center",children:"Quantidade Aulas"}),(0,p.jsx)(v.Z,{align:"center",children:"Rendimento total"})]})}),(0,p.jsx)(b.Z,{children:t||0!==N.length?t?(0,p.jsx)(u.Z,{style:{color:"#16B364"}}):N?N.map((function(a){return(0,p.jsx)(S,{item:a})})):(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(g.Z,{children:(0,p.jsx)(v.Z,{align:"center",colSpan:3,children:"Nenhuma aula encontrada"})})})]})})})]})},D=s(3623),C=s(5967);C.kL.register(C.De,C.Dx,C.uw,C.f$,C.ZL,C.u,C.qi);var A=function(){var a=(0,o.useState)(0),e=(0,n.Z)(a,2),s=e[0],t=e[1],r=(0,o.useState)(0),i=(0,n.Z)(r,2),c=i[0],x=i[1],f=(0,o.useState)(0),Z=(0,n.Z)(f,2),j=Z[0],g=Z[1],v=(0,o.useState)(!0),b=(0,n.Z)(v,2),N=b[0],S=b[1];(0,o.useEffect)((function(){m.Z.get("/professores/dashboard/grafico/aulas-realizadas-mes-atual/"+sessionStorage.ID,k).then((function(a){x(a.data.aulasRealizadas),t(a.data.aulasCanceladas),g(a.data.aulasRecusadas),S(!1)}))}),[]);var k={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},C={labels:["Canceladas","Realizadas","Recusadas"],datasets:[{label:"Quantidade de aulas",data:[s,c,j],backgroundColor:["#DF3939","#39DF73","#0263FF"],cutout:"80%",hoverOffset:4}]};return N?(0,p.jsxs)(d.Z,{className:"chart-card",children:[(0,p.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,p.jsx)(l.Z,{className:"chart-info-container",children:(0,p.jsx)(l.Z,{className:"chart-container",children:(0,p.jsx)(u.Z,{style:{color:"#16B364"}})})})]}):(console.log(s,c,j),0===s&&0===c&&0===j?(0,p.jsxs)(d.Z,{className:"chart-card",children:[(0,p.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,p.jsx)(l.Z,{className:"chart-info-container",children:(0,p.jsx)(l.Z,{className:"chart-container",children:(0,p.jsx)(h.Z,{variant:"h6",className:"chart-info",children:"Nenhuma aula nesse m\xeas"})})})]}):(0,p.jsxs)(d.Z,{className:"chart-card",children:[(0,p.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas nesse m\xeas"}),(0,p.jsx)(l.Z,{className:"chart-info-container",children:(0,p.jsx)(D.$I,{options:{plugins:{legend:{display:!0,position:"right"},title:{display:!1}}},data:C})})]}))};var T=function(a){C.kL.register(C.uw,C.f$,C.ZL,C.Dx,C.u,C.De);var e=(0,o.useState)(!0),s=(0,n.Z)(e,2),t=s[0],r=s[1],i=(0,o.useState)([]),l=(0,n.Z)(i,2),c=l[0],u=l[1],x=(0,o.useState)([]),f=(0,n.Z)(x,2),Z=f[0],j=f[1],g=(0,o.useState)([]),v=(0,n.Z)(g,2),b=v[0],N=v[1],S=(0,o.useState)([]),k=(0,n.Z)(S,2),A=k[0],T=k[1];(0,o.useEffect)((function(){u(""),j([]),T([]),N([]),r(!0),console.log(a.periodo),m.Z.get("/professores/dashboard/dados-aulas-".concat(2==a.periodo?"total":"anual","/")+sessionStorage.ID,y).then((function(a){var e=a.data;console.log(a);var s=e.map((function(a){return a.mes})),t=e.map((function(a){return a.aulasConcluidas})),n=e.map((function(a){return a.aulasCanceladas})),o=e.map((function(a){return a.aulasRecusadas}));u(s),j(n),T(t),N(o),r(!1)})).catch((function(a){console.log(a)}))}),[a.periodo]);var y={headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}},I={labels:c,datasets:[{label:"Aulas Canceladas",data:Z,backgroundColor:"#DF3939"},{label:"Aulas Recusadas",data:b,backgroundColor:"rgb(75, 192, 192)"},{label:"Aulas Conclu\xeddas",data:A,backgroundColor:"rgb(53, 162, 235)"}]};return(0,p.jsxs)(d.Z,{className:"card-tabela",children:[(0,p.jsx)(h.Z,{className:"chart-title",variant:"h5",children:"Aulas por m\xeas"}),t?(0,p.jsx)("p",{children:"Carregando..."}):(0,p.jsx)(D.$Q,{options:{plugins:{title:{display:!1,text:"Chart.js Bar Chart - Stacked"},legends:{display:!0},pointStyle:"circle"},responsive:!0,scales:{x:{grid:{display:!1},stacked:!0},y:{stacked:!0}}},data:I})]})},y=s(2703),I=s(7689);var R=function(){var a=o.useState(0),e=(0,n.Z)(a,2),s=e[0],d=e[1];function u(a){return{id:"simple-tab-".concat(a),className:"dashboard-professor-tabs-item","aria-controls":"simple-tabpanel-".concat(a)}}var h=(0,I.s0)();(0,o.useEffect)((function(){(0,y.Wi)()&&h(-1)}),[]);var m="Vis\xe3o Anual - ".concat((new Date).getFullYear());return(0,p.jsxs)(c.Z,{tela:"dashboard",children:[(0,p.jsxs)(r.Z,{value:s,onChange:function(a,e){d(e)},"aria-label":"tabs",className:"dashboard-professor-tabs",children:[(0,p.jsx)(i.Z,(0,t.Z)({label:"Vis\xe3o Mensal",className:"tab_dash"},u(0))),(0,p.jsx)(i.Z,(0,t.Z)({label:m,className:"tab_dash"},u(1))),(0,p.jsx)(i.Z,(0,t.Z)({label:"Vis\xe3o Total",className:"tab_dash"},u(2)))]}),(0,p.jsx)(l.Z,{className:"pagina-container-dash",children:0===s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{className:"kpi-container",children:[(0,p.jsx)(x,{titulo:"Rendimento total",periodo:s}),(0,p.jsx)(x,{titulo:"Quantidade de alunos",periodo:s}),(0,p.jsx)(x,{titulo:"Quantidade de aulas",periodo:s}),(0,p.jsx)(x,{titulo:"Tempo de resposta",periodo:s})]}),(0,p.jsxs)(l.Z,{className:"charts-container",children:[(0,p.jsx)(A,{}),(0,p.jsx)(k,{periodo:s})]})]}):1===s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{className:"kpi-container",children:[(0,p.jsx)(x,{titulo:"Rendimento total",periodo:s}),(0,p.jsx)(x,{titulo:"Quantidade de alunos",periodo:s}),(0,p.jsx)(x,{titulo:"Quantidade de aulas",periodo:s}),(0,p.jsx)(x,{titulo:"Tempo de resposta",periodo:s})]}),(0,p.jsxs)(l.Z,{className:"charts-container",children:[(0,p.jsx)(T,{}),(0,p.jsx)(k,{periodo:s})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{className:"kpi-container",children:[(0,p.jsx)(x,{titulo:"Rendimento total"}),(0,p.jsx)(x,{titulo:"Quantidade de alunos"}),(0,p.jsx)(x,{titulo:"Quantidade de aulas"}),(0,p.jsx)(x,{titulo:"Tempo de resposta"})]}),(0,p.jsxs)(l.Z,{className:"charts-container",children:[(0,p.jsx)(T,{periodo:s}),(0,p.jsx)(k,{periodo:s})]})]})})]})}},2703:function(a,e,s){s.d(e,{Wi:function(){return r},Y8:function(){return i},mA:function(){return l}});var t=s(4165),n=s(5861),o=s(1243);function r(){var a=sessionStorage.TOKEN;return(null===a||""===a||a.length<186)&&(sessionStorage.TOKEN="",!0)}function i(a){var e=(a=a.split("/"))[0],s=a[1],t=a[2];return e<1||e>31?{error:!0,helperText:"Dia inv\xe1lido"}:s<1||s>12?{error:!0,helperText:"M\xeas inv\xe1lido"}:t<1900||t>(new Date).getFullYear()?{error:!0,helperText:"Ano inv\xe1lido"}:new Date(t,s-1,e)>new Date?{error:!0,helperText:"Data de Nascimento inv\xe1lida"}:{error:!1}}function l(a){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((0,t.Z)().mark((function a(e){var s;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={},a.next=3,o.Z.get("https://viacep.com.br/ws/".concat(e,"/json/")).then((function(a){s=a.data.erro?null:a.data})).catch((function(a){console.log(a)}));case 3:return console.log("Resposta:"),console.log(s),a.abrupt("return",s);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=834.78f27644.chunk.js.map