"use strict";(self.webpackChunkharmonyo=self.webpackChunkharmonyo||[]).push([[86],{9084:function(a,e,s){s.d(e,{Z:function(){return c}});s(2791);var o=s(4554),i=s(184);var c=function(a){return(0,i.jsx)(o.Z,{className:"card ".concat(a.className),sx:a.sx,id:a.id,onClick:a.onClick,children:a.children})}},2290:function(a,e,s){s.r(e),s.d(e,{default:function(){return g}});var o=s(1413),i=s(9439),c=s(2791),n=s(4056),r=s(4554),l=s(890),t=s(8316),d=s(6151),m=s(9084),h=s(1687),u=s(1659),x=(s(1399),s(7689)),Z=s(3345),f=s(184);var g=function(){var a=(0,c.useState)({nome:"",avaliacaoMedia:0,categoria:"",bibliografia:"",bairro:"",cidade:"",estado:"",experiencias:[]}),e=(0,i.Z)(a,2),s=e[0],g=e[1],j=(0,c.useState)({avaliacoes:[]}),v=(0,i.Z)(j,2),N=v[0],p=v[1],b=(0,c.useState)({instrumentos:[]}),S=(0,i.Z)(b,2),M=S[0],A=S[1],w=(0,c.useState)(""),k=(0,i.Z)(w,2),F=(k[0],k[1]),O=(0,c.useState)({tempoMedio:""}),z=(0,i.Z)(O,2),B=z[0],C=z[1],E=(0,x.s0)(),P=new URLSearchParams(window.location.search).get("id");return(0,c.useEffect)((function(){if(P){console.log(P),h.Z.get("/usuarios/dados-perfil/".concat(P),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){var e=a.data;g((0,o.Z)((0,o.Z)({},s),{},{nome:e.nome,email:e.email,categoria:e.categoriaUsuario,avaliacaoMedia:e.avaliacaoMedia,bibliografia:e.bibliografia,bairro:e.endereco.bairro,cidade:e.endereco.cidade,estado:e.endereco.estado,experiencias:e.experiencia}))})).catch((function(a){console.log(a)})),h.Z.get("/usuarios/".concat(P,"/avaliacoes"),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){var e=a.data;p((0,o.Z)((0,o.Z)({},N),{},{avaliacoes:e}))})).catch((function(a){console.log(a)})),function(){var a="/imgs-perfil-usuario/".concat(P,"_ft_perfil");u.t.ref(a).getDownloadURL().then((function(a){console.log(a),F(a)})).catch((function(a){console.log(a)}))}(),function(){var a="";a=(s.categoria="Professor")?"professores":"alunos",h.Z.get("/".concat(a,"/").concat(P,"/instrumentos"),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){var e=a.data;A((0,o.Z)((0,o.Z)({},M),{},{instrumentos:e}))})).catch((function(a){console.log(a)}))}(),h.Z.get("/professores/dashboard/mes-atual/media-tempo-resposta/".concat(P),{headers:{Authorization:"Bearer ".concat(sessionStorage.TOKEN)}}).then((function(a){var e=a.data,s=Math.floor(e/60),i=(e%=60,Math.floor(s/24)),c="";i>0&&(c+=1==i?i+" dia ":i+" dias "),(s%=24)>0&&(c+=1==s?s+" hora ":s+" horas "),e>0&&(c+=1==e?e+" minuto ":e+" minutos "),C((0,o.Z)((0,o.Z)({},B),{},{tempoMedio:c}))})).catch((function(a){console.log(a)}))}else E(-1)}),[]),console.log(s),console.log(N),console.log(M),console.log(B),(0,f.jsx)(n.Z,{className:"teste",children:(0,f.jsxs)(r.Z,{className:"pagina",children:[(0,f.jsx)(r.Z,{className:"pagina-perfil",children:(0,f.jsxs)(m.Z,{className:"card-perfil",children:[(0,f.jsxs)(r.Z,{className:"topo-card",children:[(0,f.jsx)(Z.Z,{id:P,nome:s.nome,className:"avatar-perfil",sx:{width:100,height:100,fontSize:"45px"}}),"Professor"===s.categoria&&""!==B.tempoMedio?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(r.Z,{className:"duracao",children:[(0,f.jsx)(l.Z,{variant:"h8",component:"h3",children:"Tempo m\xe9dio de resposta"}),(0,f.jsx)(r.Z,{children:B.tempoMedio})]})}):null]}),(0,f.jsx)(r.Z,{className:"nome",children:s.nome}),(0,f.jsx)(r.Z,{className:"categoria",children:s.categoria}),(0,f.jsxs)(r.Z,{className:"avaliacao-usuario",children:[(0,f.jsx)(t.Z,{value:s.avaliacaoMedia,readOnly:!0}),(0,f.jsx)(r.Z,{className:"avaliacao-numero",children:s.avaliacaoMedia})]}),(0,f.jsx)(r.Z,{className:"instrumentos",children:M.instrumentos.map((function(a){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(r.Z,{className:"item-instumento",children:a.nome})})}))}),(0,f.jsxs)(r.Z,{children:[s.estado," - ",s.cidade," - ",s.bairro]}),"Professor"===s.categoria?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(r.Z,{className:"box-agendar",children:(0,f.jsx)(d.Z,{className:"botao",onClick:function(){E("/pedido?id=".concat(P))},children:"Agende uma aula"})})}):null]})}),(0,f.jsxs)(r.Z,{className:"pagina-informacoes",children:[(0,f.jsxs)(m.Z,{className:"card-geral",children:[(0,f.jsx)(r.Z,{className:"card-titulo",children:"Biografia"}),(0,f.jsx)(r.Z,{children:""!==s.bibliografia?s.bibliografia:"Sem biografia"})]}),"Professor"===s.categoria?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(m.Z,{className:"card-geral",children:[(0,f.jsx)(r.Z,{className:"card-titulo",children:"Forma\xe7\xf5es"}),0!==s.experiencias.length?(0,f.jsx)(r.Z,{children:s.experiencias.map((function(a){return(0,f.jsxs)(r.Z,{className:"box-experiencia",children:[(0,f.jsx)(r.Z,{className:"titulo-experiencia",children:a.titulo}),(0,f.jsx)(r.Z,{className:"descricao-experiencia",children:a.descricao})]})}))}):"Sem forma\xe7\xf5es"]})}):null,0!==N.avaliacoes.length?(0,f.jsxs)(m.Z,{className:"card-geral",children:[(0,f.jsx)(r.Z,{className:"card-titulo",children:"Avalia\xe7\xf5es"}),N.avaliacoes.map((function(a){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(r.Z,{className:"avaliacao",children:[(0,f.jsxs)(r.Z,{className:"avaliacao-head",children:[(0,f.jsx)(r.Z,{children:(0,f.jsx)(Z.Z,{id:a.usuarioAvaliador.id,nome:s.nome,sx:{width:50,height:50}})}),(0,f.jsxs)(r.Z,{children:[(0,f.jsxs)(r.Z,{className:"avaliacao-titulo",children:[(0,f.jsx)(r.Z,{className:"avaliacao-nome",children:a.usuarioAvaliador.nome}),(0,f.jsx)(t.Z,{value:a.valor,readOnly:!0}),(0,f.jsx)(r.Z,{className:"avaliacao-numero",children:a.valor})]}),(0,f.jsx)(r.Z,{className:"avaliacao-data",children:a.dataAvaliacao})]})]}),(0,f.jsx)(r.Z,{className:"avaliacao-texto",children:a.comentario})]})})}))]}):null]})]})})}}}]);
//# sourceMappingURL=86.0cce9467.chunk.js.map